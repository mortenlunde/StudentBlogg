{"Timestamp":"2025-01-20T20:27:14.2557230+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:14.7062580+01:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Properties":{"database":"","server":"localhost","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:14.7166220+01:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Properties":{"database":"","server":"localhost","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:15.7505930+01:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Properties":{"database":"","server":"localhost","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:16.1453400+01:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Properties":{"database":"ga_emne7_avansert","server":"localhost","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"94f1c42b-dc05-473f-8ae5-858510680b63","ActionName":"StudentBlogg.Feature.Users.UsersController.Login (StudentBlogg)","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:16.1518560+01:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Properties":{"database":"ga_emne7_avansert","server":"localhost","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"94f1c42b-dc05-473f-8ae5-858510680b63","ActionName":"StudentBlogg.Feature.Users.UsersController.Login (StudentBlogg)","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:17.2481170+01:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Properties":{"database":"ga_emne7_avansert","server":"localhost","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"94f1c42b-dc05-473f-8ae5-858510680b63","ActionName":"StudentBlogg.Feature.Users.UsersController.Login (StudentBlogg)","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:17.7126760+01:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Exception":"Microsoft.EntityFrameworkCore.Storage.RetryLimitExceededException: The maximum number of retries (2) was exceeded while executing database operations with 'MySqlRetryingExecutionStrategy'. See the inner exception for the most recent failure.\n ---> MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.\n   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063\n   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144\n   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919\n   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","Properties":{"contextType":"StudentBlogg.Data.StudentBloggDbContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.Storage.RetryLimitExceededException: The maximum number of retries (2) was exceeded while executing database operations with 'MySqlRetryingExecutionStrategy'. See the inner exception for the most recent failure.\n ---> MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.\n   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063\n   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144\n   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919\n   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"94f1c42b-dc05-473f-8ae5-858510680b63","ActionName":"StudentBlogg.Feature.Users.UsersController.Login (StudentBlogg)","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:17.7430100+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Exception":"Microsoft.EntityFrameworkCore.Storage.RetryLimitExceededException: The maximum number of retries (2) was exceeded while executing database operations with 'MySqlRetryingExecutionStrategy'. See the inner exception for the most recent failure.\n ---> MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.\n   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063\n   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144\n   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919\n   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.FindAsync(Expression`1 predicate) in /Users/mortenlunde/Developer/RiderProjects/StudentBlogg/StudentBlogg/Feature/Users/UserRepository.cs:line 40\n   at StudentBlogg.Feature.Users.UserService.AuthenticateUserAsync(String username, String password) in /Users/mortenlunde/Developer/RiderProjects/StudentBlogg/StudentBlogg/Feature/Users/UserService.cs:line 154\n   at StudentBlogg.Feature.Users.UsersController.Login(LoginRequest request) in /Users/mortenlunde/Developer/RiderProjects/StudentBlogg/StudentBlogg/Feature/Users/UsersController.cs:line 105\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:17.7570280+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"e726ace9ad45f4a2d917fe5712e1baf8","SpanId":"22badf7c02dfc712","Exception":"Microsoft.EntityFrameworkCore.Storage.RetryLimitExceededException: The maximum number of retries (2) was exceeded while executing database operations with 'MySqlRetryingExecutionStrategy'. See the inner exception for the most recent failure.\n ---> MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.\n   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063\n   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428\n   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111\n   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144\n   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919\n   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.FindAsync(Expression`1 predicate) in /Users/mortenlunde/Developer/RiderProjects/StudentBlogg/StudentBlogg/Feature/Users/UserRepository.cs:line 40\n   at StudentBlogg.Feature.Users.UserService.AuthenticateUserAsync(String username, String password) in /Users/mortenlunde/Developer/RiderProjects/StudentBlogg/StudentBlogg/Feature/Users/UserService.cs:line 154\n   at StudentBlogg.Feature.Users.UsersController.Login(LoginRequest request) in /Users/mortenlunde/Developer/RiderProjects/StudentBlogg/StudentBlogg/Feature/Users/UsersController.cs:line 105\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN9PH1EF6DBG:00000011","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:33.0768770+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"3d371f77d684d8fc2e60892c98dd32ef","SpanId":"6c14e5c714a9e69c","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:00000013","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:27:51.7474180+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"43f84ec5da1678b76a80e6b6dea7267a","SpanId":"cfbda289fe03a245","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:00000015","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:28:50.3691470+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"ca7985e097c9a578e71689161465e329","SpanId":"1aef4864dfef55f8","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:00000017","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:28:57.2698760+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"e9506a5760d84a0b1b077b2ff2d331ad","SpanId":"f515f0ae5d8dc5eb","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:00000019","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:29:55.5531990+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"22f8f8314784da6c4a6bedc0b12361bd","SpanId":"1c40ad66d1a243ea","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:0000001B","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:29:56.0653390+01:00","Level":"Information","MessageTemplate":"User added: feds","TraceId":"22f8f8314784da6c4a6bedc0b12361bd","SpanId":"1c40ad66d1a243ea","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"7d9fa564-6c78-468b-b456-d381228d1a61","ActionName":"StudentBlogg.Feature.Users.UsersController.RegisterUserAsync (StudentBlogg)","RequestId":"0HN9PH1EF6DBG:0000001B","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:30:06.6215750+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"95dd8ca21042ac175faf24a479177bab","SpanId":"5ea4b9d9d03dc48a","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:0000001D","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:30:14.7382950+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"7ee23e3eac86bc6a475e08d89d73a6e0","SpanId":"3c89da4a36932c1e","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH1EF6DBG:0000001F","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH1EF6DBG"}}
{"Timestamp":"2025-01-20T20:37:18.3439630+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"85be815e990184f98c8a9386c584eb2c","SpanId":"d5a9fb4a59ecd7d0","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH75H2I6A:00000005","RequestPath":"/api/v1/Users/login","ConnectionId":"0HN9PH75H2I6A"}}
{"Timestamp":"2025-01-20T20:37:34.6630010+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9dbed795c71d2feedeeb6f9ed9bbfb8f","SpanId":"028249dfd8d1f1bd","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN9PH75H2I6A:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN9PH75H2I6A"}}
{"Timestamp":"2025-01-20T20:37:34.7843380+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"9dbed795c71d2feedeeb6f9ed9bbfb8f","SpanId":"028249dfd8d1f1bd","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"477981ac-5578-4131-bbe7-b4377b4f2ca6","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN9PH75H2I6A:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN9PH75H2I6A"}}
