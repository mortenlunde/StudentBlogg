{"Timestamp":"2024-11-06T20:40:48.0161350+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"a314a71a1d6962b0d89e028453c036e6","SpanId":"0efc37d8019576cf","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:40:49.2287510+01:00","Level":"Warning","MessageTemplate":"Username and/or password is incorrect","TraceId":"a314a71a1d6962b0d89e028453c036e6","SpanId":"0efc37d8019576cf","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UJBE2FVMQ:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:40:49.2335340+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"a314a71a1d6962b0d89e028453c036e6","SpanId":"0efc37d8019576cf","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJBE2FVMQ:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:40:49.2464550+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"a314a71a1d6962b0d89e028453c036e6","SpanId":"0efc37d8019576cf","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJBE2FVMQ:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:41:07.5531740+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d798a336f357c782851c5b43087bc73f","SpanId":"fb79540f2f272f3f","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:41:07.9017020+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"d798a336f357c782851c5b43087bc73f","SpanId":"fb79540f2f272f3f","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"2196ae97-29c9-47ae-8f48-01d3855878a4","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:42:02.6995490+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"a42576de6e532108bf2e0cf34b237b8d","SpanId":"4ffad65f0b2ef2c1","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:00000009","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:42:27.6031210+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"f4bd9cb2f8d1cfc5edc502140bc1fc05","SpanId":"78002a21a2f7de6a","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:42:27.8062840+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"f4bd9cb2f8d1cfc5edc502140bc1fc05","SpanId":"78002a21a2f7de6a","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"c76449df-d2db-489d-b8b8-5f9b3e16e4b8","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:42:27.8096650+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"f4bd9cb2f8d1cfc5edc502140bc1fc05","SpanId":"78002a21a2f7de6a","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"c76449df-d2db-489d-b8b8-5f9b3e16e4b8","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:42:27.8134070+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"f4bd9cb2f8d1cfc5edc502140bc1fc05","SpanId":"78002a21a2f7de6a","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 141\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method101(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJBE2FVMQ:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:42:27.8179660+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"f4bd9cb2f8d1cfc5edc502140bc1fc05","SpanId":"78002a21a2f7de6a","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 141\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method101(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJBE2FVMQ:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:43:04.0040310+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d47b862d6b8dec46930c54e913dc4fb8","SpanId":"f68684312103b2d9","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:43:04.2132850+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"d47b862d6b8dec46930c54e913dc4fb8","SpanId":"f68684312103b2d9","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"04023d12-f6a4-4a24-835a-b571343c4459","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:43:04.2144340+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"d47b862d6b8dec46930c54e913dc4fb8","SpanId":"f68684312103b2d9","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"04023d12-f6a4-4a24-835a-b571343c4459","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:43:04.2150940+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"d47b862d6b8dec46930c54e913dc4fb8","SpanId":"f68684312103b2d9","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method114(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJBE2FVMQ:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:43:04.2168510+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"d47b862d6b8dec46930c54e913dc4fb8","SpanId":"f68684312103b2d9","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method114(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJBE2FVMQ:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:43:33.0989680+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"f4b9f225a6a01eff0ca88db881c628df","SpanId":"b004407a6381e4df","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:00000013","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:43:33.3114040+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"f4b9f225a6a01eff0ca88db881c628df","SpanId":"b004407a6381e4df","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"e792b264-913a-4fe1-9f22-afcee0d0b965","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:00000013","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:44:07.0228100+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"689c19b39d3fcf0fcabaff6e11a8cc23","SpanId":"8afe78abe4b9da70","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:00000015","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:44:07.1970270+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"689c19b39d3fcf0fcabaff6e11a8cc23","SpanId":"8afe78abe4b9da70","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"04023d12-f6a4-4a24-835a-b571343c4459","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:00000015","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:44:07.1972040+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"689c19b39d3fcf0fcabaff6e11a8cc23","SpanId":"8afe78abe4b9da70","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"04023d12-f6a4-4a24-835a-b571343c4459","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:00000015","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:44:07.1978700+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"689c19b39d3fcf0fcabaff6e11a8cc23","SpanId":"8afe78abe4b9da70","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method114(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJBE2FVMQ:00000015","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:44:07.1990550+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"689c19b39d3fcf0fcabaff6e11a8cc23","SpanId":"8afe78abe4b9da70","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method114(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJBE2FVMQ:00000015","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:45:12.5565350+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"239fa3d8156af8bd9c8fab5284ca1a72","SpanId":"a921816f660c41b3","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJBE2FVMQ:00000017","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:45:12.7634930+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"239fa3d8156af8bd9c8fab5284ca1a72","SpanId":"a921816f660c41b3","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"04023d12-f6a4-4a24-835a-b571343c4459","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:00000017","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:45:12.7636500+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"239fa3d8156af8bd9c8fab5284ca1a72","SpanId":"a921816f660c41b3","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"04023d12-f6a4-4a24-835a-b571343c4459","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJBE2FVMQ:00000017","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:45:12.7642610+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"239fa3d8156af8bd9c8fab5284ca1a72","SpanId":"a921816f660c41b3","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method114(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJBE2FVMQ:00000017","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:45:12.7653660+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"239fa3d8156af8bd9c8fab5284ca1a72","SpanId":"a921816f660c41b3","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method114(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJBE2FVMQ:00000017","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJBE2FVMQ"}}
{"Timestamp":"2024-11-06T20:46:15.4810280+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"48b53ba7029b092e81e79de8c7e9d87e","SpanId":"87c462eb81d0ef6f","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJEDGJFQ6:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJEDGJFQ6"}}
{"Timestamp":"2024-11-06T20:46:47.3154680+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d8118ffed81c96424c5a59d6b36ff0a4","SpanId":"39942c893bd4fe93","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJEDGJFQ6:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJEDGJFQ6"}}
{"Timestamp":"2024-11-06T20:47:21.9378890+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"3affc50eba05c912578bf84c2e836215","SpanId":"8c83b427708c8b5d","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJEDGJFQ6:00000009","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJEDGJFQ6"}}
{"Timestamp":"2024-11-06T20:47:57.4785190+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4221e28889574eb79ab111c9411ab274","SpanId":"8ba8aedc6e7af7bf","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJEDGJFQ6:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJEDGJFQ6"}}
{"Timestamp":"2024-11-06T20:48:50.7278680+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"f34d788a23937dbf29d839e3d6fcdcf5","SpanId":"5a581d83fcb59efa","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJEDGJFQ6:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJEDGJFQ6"}}
{"Timestamp":"2024-11-06T20:49:47.2438510+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"e9340dc12ea17c5ee7f6fe632108301c","SpanId":"d88ad329bbf62639","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJEDGJFQ6:0000000F","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJEDGJFQ6"}}
{"Timestamp":"2024-11-06T20:49:48.0367460+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"e9340dc12ea17c5ee7f6fe632108301c","SpanId":"d88ad329bbf62639","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"2a994ed3-80ca-43c1-bbd0-5dd2614be270","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJEDGJFQ6:0000000F","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJEDGJFQ6"}}
{"Timestamp":"2024-11-06T20:54:36.3538950+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"8d7c1cf3626337a40cd5b31cb123f830","SpanId":"311bbd0ef8a93021","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJJ7QK4S0:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJJ7QK4S0"}}
{"Timestamp":"2024-11-06T20:54:37.5954840+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"8d7c1cf3626337a40cd5b31cb123f830","SpanId":"311bbd0ef8a93021","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"16f746df-ef88-4100-b9a7-c9b84a502009","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UJJ7QK4S0:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJJ7QK4S0"}}
{"Timestamp":"2024-11-06T20:55:30.6755900+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9f4f593e4d0724b7cb70543e83ddd47f","SpanId":"932964c2aa62d426","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJJ7QK4S0:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJJ7QK4S0"}}
{"Timestamp":"2024-11-06T20:55:31.0165190+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"9f4f593e4d0724b7cb70543e83ddd47f","SpanId":"932964c2aa62d426","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"57dcf976-19d0-472f-9ab6-659086a81141","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJJ7QK4S0:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJJ7QK4S0"}}
{"Timestamp":"2024-11-06T20:55:31.0188980+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"9f4f593e4d0724b7cb70543e83ddd47f","SpanId":"932964c2aa62d426","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"57dcf976-19d0-472f-9ab6-659086a81141","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJJ7QK4S0:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJJ7QK4S0"}}
{"Timestamp":"2024-11-06T20:55:31.0245440+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"9f4f593e4d0724b7cb70543e83ddd47f","SpanId":"932964c2aa62d426","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 141\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method98(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJJ7QK4S0:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJJ7QK4S0"}}
{"Timestamp":"2024-11-06T20:55:31.0395120+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"9f4f593e4d0724b7cb70543e83ddd47f","SpanId":"932964c2aa62d426","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 141\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method98(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJJ7QK4S0:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJJ7QK4S0"}}
{"Timestamp":"2024-11-06T20:55:53.8591660+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4717360df73ebe7fd2b6d1332aab9002","SpanId":"e44fbc5303f90b1f","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJK1LUUK0:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJK1LUUK0"}}
{"Timestamp":"2024-11-06T20:55:55.4707480+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"4717360df73ebe7fd2b6d1332aab9002","SpanId":"e44fbc5303f90b1f","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"e2e2d574-f2ba-4bba-9a78-9f5e6be77fdc","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJK1LUUK0:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJK1LUUK0"}}
{"Timestamp":"2024-11-06T20:57:38.5829640+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"4717360df73ebe7fd2b6d1332aab9002","SpanId":"e44fbc5303f90b1f","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"e2e2d574-f2ba-4bba-9a78-9f5e6be77fdc","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJK1LUUK0:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJK1LUUK0"}}
{"Timestamp":"2024-11-06T20:57:48.3297210+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"4717360df73ebe7fd2b6d1332aab9002","SpanId":"e44fbc5303f90b1f","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 141\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJK1LUUK0:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJK1LUUK0"}}
{"Timestamp":"2024-11-06T20:57:48.3440900+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"4717360df73ebe7fd2b6d1332aab9002","SpanId":"e44fbc5303f90b1f","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 141\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJK1LUUK0:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJK1LUUK0"}}
{"Timestamp":"2024-11-06T20:58:34.9187940+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"da7d993bf9ff5fa2a76ba0fa802314d2","SpanId":"175952e8a95632da","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJK1LUUK0:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJK1LUUK0"}}
{"Timestamp":"2024-11-06T20:58:35.6195980+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"da7d993bf9ff5fa2a76ba0fa802314d2","SpanId":"175952e8a95632da","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"e2e2d574-f2ba-4bba-9a78-9f5e6be77fdc","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJK1LUUK0:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJK1LUUK0"}}
{"Timestamp":"2024-11-06T21:02:59.1340070+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"8365b461036ec3605d66df0be630a3a5","SpanId":"7d25115e8f70dbb1","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJNVP8QBE:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:03:00.7390010+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"8365b461036ec3605d66df0be630a3a5","SpanId":"7d25115e8f70dbb1","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:03:20.9037060+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"8365b461036ec3605d66df0be630a3a5","SpanId":"7d25115e8f70dbb1","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:03:22.9626230+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"8365b461036ec3605d66df0be630a3a5","SpanId":"7d25115e8f70dbb1","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 142\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJNVP8QBE:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:03:22.9770680+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"8365b461036ec3605d66df0be630a3a5","SpanId":"7d25115e8f70dbb1","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 142\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJNVP8QBE:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:03:38.9316100+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"346e8af6e7725ddf7e10409153b1d0fc","SpanId":"9477d69b25067a49","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJNVP8QBE:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:03:39.5052720+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"346e8af6e7725ddf7e10409153b1d0fc","SpanId":"9477d69b25067a49","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:08.8481430+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"346e8af6e7725ddf7e10409153b1d0fc","SpanId":"9477d69b25067a49","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:10.5728730+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"346e8af6e7725ddf7e10409153b1d0fc","SpanId":"9477d69b25067a49","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 142\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJNVP8QBE:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:10.5747440+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"346e8af6e7725ddf7e10409153b1d0fc","SpanId":"9477d69b25067a49","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 142\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJNVP8QBE:00000007","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:16.5602580+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"b6a68effa55a7ca65cfa3f980e0cd50f","SpanId":"1335d3a08c89c108","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJNVP8QBE:00000009","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:17.2211730+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"b6a68effa55a7ca65cfa3f980e0cd50f","SpanId":"1335d3a08c89c108","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:00000009","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:28.9691320+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"b6a68effa55a7ca65cfa3f980e0cd50f","SpanId":"1335d3a08c89c108","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:00000009","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:30.2304390+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"b6a68effa55a7ca65cfa3f980e0cd50f","SpanId":"1335d3a08c89c108","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJNVP8QBE:00000009","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:30.2322370+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"b6a68effa55a7ca65cfa3f980e0cd50f","SpanId":"1335d3a08c89c108","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJNVP8QBE:00000009","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:32.6589250+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"dc32162376460cfacf6cb58ed83e99a1","SpanId":"26ccb62786a80596","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJNVP8QBE:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:05:33.4222250+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"dc32162376460cfacf6cb58ed83e99a1","SpanId":"26ccb62786a80596","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:07:15.1317960+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"dc32162376460cfacf6cb58ed83e99a1","SpanId":"26ccb62786a80596","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:07:18.0315720+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"dc32162376460cfacf6cb58ed83e99a1","SpanId":"26ccb62786a80596","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJNVP8QBE:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:07:18.0331940+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"dc32162376460cfacf6cb58ed83e99a1","SpanId":"26ccb62786a80596","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJNVP8QBE:0000000B","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:07:49.8144450+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"670d81ecb3dfed510711c1bb6c862dd5","SpanId":"5446009c58cec42d","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJNVP8QBE:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:07:50.7644080+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"670d81ecb3dfed510711c1bb6c862dd5","SpanId":"5446009c58cec42d","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"94842e3b-803b-4d1f-af8b-5a0f4bf846e7","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJNVP8QBE:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJNVP8QBE"}}
{"Timestamp":"2024-11-06T21:10:01.6863930+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c4cc6ee4eb2313036de9b73058cc27ca","SpanId":"ede63f9e74f7faa8","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:10:02.9480650+01:00","Level":"Information","MessageTemplate":"Updating user with ID 4b336924-7a22-4638-b310-21de80c5dd52 updated","TraceId":"c4cc6ee4eb2313036de9b73058cc27ca","SpanId":"ede63f9e74f7faa8","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000005","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:10:42.8075140+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"046cc6933580bdfe7c9669620e06bf18","SpanId":"9d52f5ebfbf3265b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:10:42.8777240+01:00","Level":"Warning","MessageTemplate":"Username and/or password is incorrect","TraceId":"046cc6933580bdfe7c9669620e06bf18","SpanId":"9d52f5ebfbf3265b","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UJRT8L152:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:10:42.8853060+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"046cc6933580bdfe7c9669620e06bf18","SpanId":"9d52f5ebfbf3265b","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJRT8L152:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:10:42.9040850+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"046cc6933580bdfe7c9669620e06bf18","SpanId":"9d52f5ebfbf3265b","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJRT8L152:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:11:10.8830650+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"ac9152045e5c8713b15dda0847334454","SpanId":"2ba39863d4044170","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:11:10.9540790+01:00","Level":"Warning","MessageTemplate":"Username and/or password is incorrect","TraceId":"ac9152045e5c8713b15dda0847334454","SpanId":"2ba39863d4044170","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UJRT8L152:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:11:10.9545110+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"ac9152045e5c8713b15dda0847334454","SpanId":"2ba39863d4044170","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJRT8L152:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:11:10.9551990+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"ac9152045e5c8713b15dda0847334454","SpanId":"2ba39863d4044170","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJRT8L152:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:11:57.8208440+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"53763fee6947618cce34990cbc61d0d0","SpanId":"c72f5c131e3215cf","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:0000000B","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:11:58.1553700+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"53763fee6947618cce34990cbc61d0d0","SpanId":"c72f5c131e3215cf","Exception":"StudentBlogg.Middleware.EmailAlreadyExistsException: E-posten 'string@dust.no' er allerede i bruk.\n   at StudentBlogg.Feature.Users.UserRepository.AddAsync(User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 52\n   at StudentBlogg.Feature.Users.UserService.RegisterAsync(UserRegistrationDto regDto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 91\n   at StudentBlogg.Feature.Users.UsersController.RegisterUserAsync(UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 45\n   at lambda_method163(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJRT8L152:0000000B","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:11:58.1583630+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"53763fee6947618cce34990cbc61d0d0","SpanId":"c72f5c131e3215cf","Exception":"StudentBlogg.Middleware.EmailAlreadyExistsException: E-posten 'string@dust.no' er allerede i bruk.\n   at StudentBlogg.Feature.Users.UserRepository.AddAsync(User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 52\n   at StudentBlogg.Feature.Users.UserService.RegisterAsync(UserRegistrationDto regDto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 91\n   at StudentBlogg.Feature.Users.UsersController.RegisterUserAsync(UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 45\n   at lambda_method163(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJRT8L152:0000000B","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:12:17.6217920+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"e4f121af918e44a01a5c38eb17eeee64","SpanId":"7a4c0446b71d8e47","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:0000000D","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:12:17.8633490+01:00","Level":"Information","MessageTemplate":"User added: test","TraceId":"e4f121af918e44a01a5c38eb17eeee64","SpanId":"7a4c0446b71d8e47","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"9d25fb31-6672-4ebd-b2b7-edc8b1ff5b1e","ActionName":"StudentBlogg.Feature.Users.UsersController.RegisterUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:0000000D","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:12:55.5277440+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"0f132566567e72b5b3d30d1b2fc2c1db","SpanId":"f693211c520bc326","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:0000000F","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:12:55.7137600+01:00","Level":"Warning","MessageTemplate":"Username and/or password is incorrect","TraceId":"0f132566567e72b5b3d30d1b2fc2c1db","SpanId":"f693211c520bc326","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UJRT8L152:0000000F","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:12:55.7141430+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"0f132566567e72b5b3d30d1b2fc2c1db","SpanId":"f693211c520bc326","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJRT8L152:0000000F","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:12:55.7147440+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"0f132566567e72b5b3d30d1b2fc2c1db","SpanId":"f693211c520bc326","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJRT8L152:0000000F","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:18.3790810+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"fa8bba8284ca1c5e2fb402a1a5e5d783","SpanId":"d018a4dfe32edb59","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000011","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:18.5703270+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"fa8bba8284ca1c5e2fb402a1a5e5d783","SpanId":"d018a4dfe32edb59","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"cbcf1fa7-9ff4-4d67-a3d5-e91052c360d9","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000011","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:51.0121760+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"98ff2d9aeaaaeb7e3c204a86609406cb","SpanId":"312c9dc1ee1d0245","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000013","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:51.1819910+01:00","Level":"Information","MessageTemplate":"Updating user with ID 54858a75-a8f4-420a-a329-0cccb849d93f updated","TraceId":"98ff2d9aeaaaeb7e3c204a86609406cb","SpanId":"312c9dc1ee1d0245","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000013","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:51.3531690+01:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"98ff2d9aeaaaeb7e3c204a86609406cb","SpanId":"312c9dc1ee1d0245","Properties":{"elapsed":"12","parameters":"@p6='?' (DbType = Guid), @p0='?' (Size = 255), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (DbType = DateTime), @p5='?' (Size = 30)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET AUTOCOMMIT = 1;\nUPDATE `Users` SET `Email` = @p0, `FirstName` = @p1, `HashedPassword` = @p2, `LastName` = @p3, `Updated` = @p4, `Username` = @p5\nWHERE `Id` = @p6;\nSELECT ROW_COUNT();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000013","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:51.6961620+01:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"98ff2d9aeaaaeb7e3c204a86609406cb","SpanId":"312c9dc1ee1d0245","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"StudentBlogg.Data.StudentBloggDbContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000013","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:51.7033860+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"98ff2d9aeaaaeb7e3c204a86609406cb","SpanId":"312c9dc1ee1d0245","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 75\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 149\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJRT8L152:00000013","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:13:51.7098620+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"98ff2d9aeaaaeb7e3c204a86609406cb","SpanId":"312c9dc1ee1d0245","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 75\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 149\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJRT8L152:00000013","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:17.3994430+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"3bf41c86f8d7cec2be8427961adc5b52","SpanId":"82a3dceb421ee41f","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000015","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:17.5958480+01:00","Level":"Information","MessageTemplate":"Updating user with ID 54858a75-a8f4-420a-a329-0cccb849d93f updated","TraceId":"3bf41c86f8d7cec2be8427961adc5b52","SpanId":"82a3dceb421ee41f","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000015","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:17.7473860+01:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3bf41c86f8d7cec2be8427961adc5b52","SpanId":"82a3dceb421ee41f","Properties":{"elapsed":"4","parameters":"@p6='?' (DbType = Guid), @p0='?' (Size = 255), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (DbType = DateTime), @p5='?' (Size = 30)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET AUTOCOMMIT = 1;\nUPDATE `Users` SET `Email` = @p0, `FirstName` = @p1, `HashedPassword` = @p2, `LastName` = @p3, `Updated` = @p4, `Username` = @p5\nWHERE `Id` = @p6;\nSELECT ROW_COUNT();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000015","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:17.7489030+01:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"3bf41c86f8d7cec2be8427961adc5b52","SpanId":"82a3dceb421ee41f","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"StudentBlogg.Data.StudentBloggDbContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000015","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:17.7513790+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"3bf41c86f8d7cec2be8427961adc5b52","SpanId":"82a3dceb421ee41f","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 75\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 149\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UJRT8L152:00000015","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:17.7541210+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"3bf41c86f8d7cec2be8427961adc5b52","SpanId":"82a3dceb421ee41f","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'jr@lunde.no' for key 'Users.IX_Users_Email'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 75\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 149\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UJRT8L152:00000015","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:31.6301970+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d3ae0309806c0cc968becfb25081a21a","SpanId":"714b9c5e9c07641c","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000017","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:14:31.8301440+01:00","Level":"Information","MessageTemplate":"Updating user with ID 54858a75-a8f4-420a-a329-0cccb849d93f updated","TraceId":"d3ae0309806c0cc968becfb25081a21a","SpanId":"714b9c5e9c07641c","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"a98597ea-9114-4032-8698-32a1a3d1464e","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000017","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:15:00.2921340+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9a24ad0fd3e69b5be29b4b23142dcea4","SpanId":"a7baf325fb26a9db","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UJRT8L152:00000019","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:15:00.4823930+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"9a24ad0fd3e69b5be29b4b23142dcea4","SpanId":"a7baf325fb26a9db","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"cbcf1fa7-9ff4-4d67-a3d5-e91052c360d9","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UJRT8L152:00000019","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UJRT8L152"}}
{"Timestamp":"2024-11-06T21:30:06.8717230+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c1e9e3b3440c916934abe6572895aff1","SpanId":"8cb5ee74cc204e29","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATG:00000005","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:08.1080510+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"c1e9e3b3440c916934abe6572895aff1","SpanId":"8cb5ee74cc204e29","Exception":"StudentBlogg.Middleware.EmailAlreadyExistsException: E-posten 'morten@lunde.no' er allerede i bruk.\n   at StudentBlogg.Feature.Users.UserRepository.AddAsync(User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 52\n   at StudentBlogg.Feature.Users.UserService.RegisterAsync(UserRegistrationDto regDto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 91\n   at StudentBlogg.Feature.Users.UsersController.RegisterUserAsync(UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 45\n   at lambda_method8(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UK6PPTATG:00000005","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:08.1280390+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"c1e9e3b3440c916934abe6572895aff1","SpanId":"8cb5ee74cc204e29","Exception":"StudentBlogg.Middleware.EmailAlreadyExistsException: E-posten 'morten@lunde.no' er allerede i bruk.\n   at StudentBlogg.Feature.Users.UserRepository.AddAsync(User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 52\n   at StudentBlogg.Feature.Users.UserService.RegisterAsync(UserRegistrationDto regDto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 91\n   at StudentBlogg.Feature.Users.UsersController.RegisterUserAsync(UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 45\n   at lambda_method8(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UK6PPTATG:00000005","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:16.3771680+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"b2ea8b922f664b33deed565294564b6a","SpanId":"24fef67eaf7968ef","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATG:00000007","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:16.8516060+01:00","Level":"Information","MessageTemplate":"User added: morlu","TraceId":"b2ea8b922f664b33deed565294564b6a","SpanId":"24fef67eaf7968ef","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"bde8e00f-4e92-4286-acf3-5defaa25a02b","ActionName":"StudentBlogg.Feature.Users.UsersController.RegisterUserAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATG:00000007","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:39.5913350+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"5b972d9066ab462bb2e49abd9d3ca7df","SpanId":"694290428e2b952b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATG:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:39.8941200+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"5b972d9066ab462bb2e49abd9d3ca7df","SpanId":"694290428e2b952b","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"95858811-7cee-465e-9081-c3490660b57a","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATG:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:58.1563380+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4a6bab3ae363c0e6d2532e0beeeb1d93","SpanId":"27757b280c57f585","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATG:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:58.1864960+01:00","Level":"Information","MessageTemplate":"User with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c7 found","TraceId":"4a6bab3ae363c0e6d2532e0beeeb1d93","SpanId":"27757b280c57f585","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATG:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:30:58.2069570+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"4a6bab3ae363c0e6d2532e0beeeb1d93","SpanId":"27757b280c57f585","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATG:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:31:14.4317690+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"5543f2999fbabef7c3317ec2669d8d4b","SpanId":"1edc7cf72b24c380","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATG:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52/posts","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:31:14.4675870+01:00","Level":"Information","MessageTemplate":"User with ID 4b336924-7a22-4638-b310-21de80c5dd52 found","TraceId":"5543f2999fbabef7c3317ec2669d8d4b","SpanId":"1edc7cf72b24c380","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATG:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52/posts","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:31:14.4722880+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"5543f2999fbabef7c3317ec2669d8d4b","SpanId":"1edc7cf72b24c380","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATG:0000000D","RequestPath":"/api/v1/Users/4b336924-7a22-4638-b310-21de80c5dd52/posts","ConnectionId":"0HN7UK6PPTATG"}}
{"Timestamp":"2024-11-06T21:33:53.9358100+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c7e63f4ab18ad70f9e4fc3f2b1dd921a","SpanId":"6c05c94c319c0fe2","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATH:00000001","RequestPath":"/api/v1/Users/08dcf9af-d310-48db-8e8a-7a711a2d25f7/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:33:53.9785440+01:00","Level":"Information","MessageTemplate":"User with ID 08dcf9af-d310-48db-8e8a-7a711a2d25f7 found","TraceId":"c7e63f4ab18ad70f9e4fc3f2b1dd921a","SpanId":"6c05c94c319c0fe2","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000001","RequestPath":"/api/v1/Users/08dcf9af-d310-48db-8e8a-7a711a2d25f7/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:33:53.9867370+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"c7e63f4ab18ad70f9e4fc3f2b1dd921a","SpanId":"6c05c94c319c0fe2","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000001","RequestPath":"/api/v1/Users/08dcf9af-d310-48db-8e8a-7a711a2d25f7/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:33:53.9965010+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"c7e63f4ab18ad70f9e4fc3f2b1dd921a","SpanId":"6c05c94c319c0fe2","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at StudentBlogg.Feature.Users.UsersController.<>c__DisplayClass9_0.<GetUserPostsAsync>b__0(PostDto u) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 79\n   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UK6PPTATH:00000001","RequestPath":"/api/v1/Users/08dcf9af-d310-48db-8e8a-7a711a2d25f7/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:33:54.0037610+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"c7e63f4ab18ad70f9e4fc3f2b1dd921a","SpanId":"6c05c94c319c0fe2","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at StudentBlogg.Feature.Users.UsersController.<>c__DisplayClass9_0.<GetUserPostsAsync>b__0(PostDto u) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 79\n   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UK6PPTATH:00000001","RequestPath":"/api/v1/Users/08dcf9af-d310-48db-8e8a-7a711a2d25f7/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:01.9653220+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"cb3deb99069583dc7910ac85214319cb","SpanId":"1ca60436ded273fa","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATH:00000003","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:02.0139270+01:00","Level":"Information","MessageTemplate":"User with ID 2748dd16-9f04-4e57-956c-08392afb9808 found","TraceId":"cb3deb99069583dc7910ac85214319cb","SpanId":"1ca60436ded273fa","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000003","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:02.0242420+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"cb3deb99069583dc7910ac85214319cb","SpanId":"1ca60436ded273fa","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000003","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:02.0277770+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"cb3deb99069583dc7910ac85214319cb","SpanId":"1ca60436ded273fa","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at StudentBlogg.Feature.Users.UsersController.<>c__DisplayClass9_0.<GetUserPostsAsync>b__0(PostDto u) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 79\n   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UK6PPTATH:00000003","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:02.0297100+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"cb3deb99069583dc7910ac85214319cb","SpanId":"1ca60436ded273fa","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at StudentBlogg.Feature.Users.UsersController.<>c__DisplayClass9_0.<GetUserPostsAsync>b__0(PostDto u) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 79\n   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UK6PPTATH:00000003","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:16.5702380+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"47cefca625f53530084ca8e82a321a69","SpanId":"47c42c6669bef579","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATH:00000005","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:16.6513280+01:00","Level":"Information","MessageTemplate":"User with ID 2748dd16-9f04-4e57-956c-08392afb9808 found","TraceId":"47cefca625f53530084ca8e82a321a69","SpanId":"47c42c6669bef579","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000005","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:16.6584630+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"47cefca625f53530084ca8e82a321a69","SpanId":"47c42c6669bef579","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000005","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:16.6618720+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"47cefca625f53530084ca8e82a321a69","SpanId":"47c42c6669bef579","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at StudentBlogg.Feature.Users.UsersController.<>c__DisplayClass9_0.<GetUserPostsAsync>b__0(PostDto u) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 79\n   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UK6PPTATH:00000005","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:16.6638130+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"47cefca625f53530084ca8e82a321a69","SpanId":"47c42c6669bef579","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at StudentBlogg.Feature.Users.UsersController.<>c__DisplayClass9_0.<GetUserPostsAsync>b__0(PostDto u) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 79\n   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UK6PPTATH:00000005","RequestPath":"/api/v1/Users/2748dd16-9f04-4e57-956c-08392afb9808/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:24.8705370+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"76873caf59dccdc81b355c511592e772","SpanId":"ce4d1991517f3f3b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATH:00000007","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:24.9123900+01:00","Level":"Information","MessageTemplate":"User with ID a971282a-2c13-4e4c-99d0-21dfbee77e2d found","TraceId":"76873caf59dccdc81b355c511592e772","SpanId":"ce4d1991517f3f3b","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000007","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:34:24.9197410+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"76873caf59dccdc81b355c511592e772","SpanId":"ce4d1991517f3f3b","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"f6e38a37-8ecb-4a4e-8412-a6796ae35cf5","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATH:00000007","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATH"}}
{"Timestamp":"2024-11-06T21:39:59.2183020+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"57322600893a9c3a36480b86b3558fd6","SpanId":"24bc207ef1ee53ff","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATI:00000001","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:39:59.2722950+01:00","Level":"Information","MessageTemplate":"User with ID a971282a-2c13-4e4c-99d0-21dfbee77e2d found","TraceId":"57322600893a9c3a36480b86b3558fd6","SpanId":"24bc207ef1ee53ff","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f8e4e50b-efd4-4c84-bac6-a2061648a3c3","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATI:00000001","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:39:59.3016570+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"57322600893a9c3a36480b86b3558fd6","SpanId":"24bc207ef1ee53ff","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"f8e4e50b-efd4-4c84-bac6-a2061648a3c3","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATI:00000001","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:40:05.6224020+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"37f91803357654fafb0168199b99547a","SpanId":"6bcb19cafe7eabc2","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATI:00000003","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:40:05.6516830+01:00","Level":"Information","MessageTemplate":"User with ID a971282a-2c13-4e4c-99d0-21dfbee77e1d found","TraceId":"37f91803357654fafb0168199b99547a","SpanId":"6bcb19cafe7eabc2","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"f8e4e50b-efd4-4c84-bac6-a2061648a3c3","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATI:00000003","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:40:05.6552790+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"37f91803357654fafb0168199b99547a","SpanId":"6bcb19cafe7eabc2","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID No user found does not exist.\n   at StudentBlogg.Feature.Users.UserService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync(Guid id)\n   at lambda_method242(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UK6PPTATI:00000003","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:40:05.6574010+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"37f91803357654fafb0168199b99547a","SpanId":"6bcb19cafe7eabc2","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID No user found does not exist.\n   at StudentBlogg.Feature.Users.UserService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync(Guid id)\n   at lambda_method242(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UK6PPTATI:00000003","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:41:06.7966040+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"082705b7f0b37413c7c13cd6e4c8ac76","SpanId":"a67ac38e9193346b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATI:00000005","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:41:06.8424820+01:00","Level":"Information","MessageTemplate":"User with ID a971282a-2c13-4e4c-99d0-21dfbee77e1d found","TraceId":"082705b7f0b37413c7c13cd6e4c8ac76","SpanId":"a67ac38e9193346b","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"0825b7a3-53a3-49d5-a813-fca0028725b1","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATI:00000005","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:41:06.8489220+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"082705b7f0b37413c7c13cd6e4c8ac76","SpanId":"a67ac38e9193346b","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID No user found does not exist.\n   at StudentBlogg.Feature.Users.UserService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync(Guid id)\n   at lambda_method250(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UK6PPTATI:00000005","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:41:06.8504320+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"082705b7f0b37413c7c13cd6e4c8ac76","SpanId":"a67ac38e9193346b","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID No user found does not exist.\n   at StudentBlogg.Feature.Users.UserService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync(Guid id)\n   at lambda_method250(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UK6PPTATI:00000005","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e1d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:41:10.4715220+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c22de99402460ff7bf5ab91858bef072","SpanId":"7f8daab55f37af10","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATI:00000007","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:41:10.4932870+01:00","Level":"Information","MessageTemplate":"User with ID a971282a-2c13-4e4c-99d0-21dfbee77e2d found","TraceId":"c22de99402460ff7bf5ab91858bef072","SpanId":"7f8daab55f37af10","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"0825b7a3-53a3-49d5-a813-fca0028725b1","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATI:00000007","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:41:10.4968120+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"c22de99402460ff7bf5ab91858bef072","SpanId":"7f8daab55f37af10","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"0825b7a3-53a3-49d5-a813-fca0028725b1","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATI:00000007","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATI"}}
{"Timestamp":"2024-11-06T21:50:39.2858100+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"cae6733342ac3198960a2cffb09a28d4","SpanId":"77fdc36fc29a9197","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATJ:00000001","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATJ"}}
{"Timestamp":"2024-11-06T21:50:39.3209270+01:00","Level":"Information","MessageTemplate":"User with ID a971282a-2c13-4e4c-99d0-21dfbee77e2d found","TraceId":"cae6733342ac3198960a2cffb09a28d4","SpanId":"77fdc36fc29a9197","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"0825b7a3-53a3-49d5-a813-fca0028725b1","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATJ:00000001","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATJ"}}
{"Timestamp":"2024-11-06T21:50:39.3398410+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"cae6733342ac3198960a2cffb09a28d4","SpanId":"77fdc36fc29a9197","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"0825b7a3-53a3-49d5-a813-fca0028725b1","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UK6PPTATJ:00000001","RequestPath":"/api/v1/Users/a971282a-2c13-4e4c-99d0-21dfbee77e2d/posts","ConnectionId":"0HN7UK6PPTATJ"}}
{"Timestamp":"2024-11-06T21:55:31.7365240+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"81b9689f302c7764d94ef5978f0a69a8","SpanId":"6c66e79c0337f255","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATK:00000001","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UK6PPTATK"}}
{"Timestamp":"2024-11-06T21:55:31.7721190+01:00","Level":"Warning","MessageTemplate":"Authentication header is empty","TraceId":"81b9689f302c7764d94ef5978f0a69a8","SpanId":"6c66e79c0337f255","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UK6PPTATK:00000001","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UK6PPTATK"}}
{"Timestamp":"2024-11-06T21:55:31.7740090+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"81b9689f302c7764d94ef5978f0a69a8","SpanId":"6c66e79c0337f255","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UK6PPTATK:00000001","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UK6PPTATK"}}
{"Timestamp":"2024-11-06T21:55:31.7758580+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"81b9689f302c7764d94ef5978f0a69a8","SpanId":"6c66e79c0337f255","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UK6PPTATK:00000001","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UK6PPTATK"}}
{"Timestamp":"2024-11-06T21:55:51.6321240+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"cad130f44629eb2ee4ac75e412c79b66","SpanId":"b6dc25c274c6f53c","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATK:00000003","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UK6PPTATK"}}
{"Timestamp":"2024-11-06T21:56:52.8388890+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"f3153730bb8ab7c60df82d02c58c6a4d","SpanId":"eb52067e1bbad3fe","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UK6PPTATK:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UK6PPTATK"}}
{"Timestamp":"2024-11-06T21:58:41.4220640+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"f00f352a2b985c5222dff20f24087987","SpanId":"ab92f96c68f81ad1","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKN3OV9QM:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T21:59:20.8347110+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d7ecfd4204b8375d1baa1e243e142a48","SpanId":"09a6d36265cb9a7f","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKN3OV9QM:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T21:59:21.5244090+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c2 updated","TraceId":"d7ecfd4204b8375d1baa1e243e142a48","SpanId":"09a6d36265cb9a7f","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"c6b82446-fdb2-4afa-9812-cda4e8fe480d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKN3OV9QM:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T21:59:50.8784730+01:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7ecfd4204b8375d1baa1e243e142a48","SpanId":"09a6d36265cb9a7f","Properties":{"elapsed":"94","parameters":"@p6='?' (DbType = Guid), @p0='?' (Size = 255), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (DbType = DateTime), @p5='?' (Size = 30)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET AUTOCOMMIT = 1;\nUPDATE `Users` SET `Email` = @p0, `FirstName` = @p1, `HashedPassword` = @p2, `LastName` = @p3, `Updated` = @p4, `Username` = @p5\nWHERE `Id` = @p6;\nSELECT ROW_COUNT();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c6b82446-fdb2-4afa-9812-cda4e8fe480d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKN3OV9QM:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T21:59:51.1316500+01:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"d7ecfd4204b8375d1baa1e243e142a48","SpanId":"09a6d36265cb9a7f","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"StudentBlogg.Data.StudentBloggDbContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"c6b82446-fdb2-4afa-9812-cda4e8fe480d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKN3OV9QM:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T21:59:56.4405390+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"d7ecfd4204b8375d1baa1e243e142a48","SpanId":"09a6d36265cb9a7f","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 75\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 150\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UKN3OV9QM:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T21:59:56.4616570+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"d7ecfd4204b8375d1baa1e243e142a48","SpanId":"09a6d36265cb9a7f","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserRepository.cs:line 75\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 150\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UKN3OV9QM:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:01:19.6607090+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9f6a004531a19693cc07bdce8f8c4eff","SpanId":"9277fd9ad5a50ac6","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKN3OV9QM:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:01:20.6130380+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c2 updated","TraceId":"9f6a004531a19693cc07bdce8f8c4eff","SpanId":"9277fd9ad5a50ac6","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"c6b82446-fdb2-4afa-9812-cda4e8fe480d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKN3OV9QM:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:04:06.6232830+01:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f6a004531a19693cc07bdce8f8c4eff","SpanId":"9277fd9ad5a50ac6","Properties":{"elapsed":"202","parameters":"@p6='?' (DbType = Guid), @p0='?' (Size = 255), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (DbType = DateTime), @p5='?' (Size = 30)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET AUTOCOMMIT = 1;\nUPDATE `Users` SET `Email` = @p0, `FirstName` = @p1, `HashedPassword` = @p2, `LastName` = @p3, `Updated` = @p4, `Username` = @p5\nWHERE `Id` = @p6;\nSELECT ROW_COUNT();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c6b82446-fdb2-4afa-9812-cda4e8fe480d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKN3OV9QM:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:04:06.6291190+01:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"9f6a004531a19693cc07bdce8f8c4eff","SpanId":"9277fd9ad5a50ac6","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"StudentBlogg.Data.StudentBloggDbContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"c6b82446-fdb2-4afa-9812-cda4e8fe480d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKN3OV9QM:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:04:07.0303230+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"9f6a004531a19693cc07bdce8f8c4eff","SpanId":"9277fd9ad5a50ac6","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity)\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UKN3OV9QM:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:04:07.0357350+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"9f6a004531a19693cc07bdce8f8c4eff","SpanId":"9277fd9ad5a50ac6","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry 'string' for key 'Users.IX_Users_Username'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at StudentBlogg.Feature.Users.UserRepository.UpdateByIdAsync(Guid id, User entity)\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UKN3OV9QM:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:04:11.9900410+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"0fb7d97d2ea5485752a76ffadcd390fa","SpanId":"a54b3543ac0feacb","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKN3OV9QM:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:04:12.5533110+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c2 updated","TraceId":"0fb7d97d2ea5485752a76ffadcd390fa","SpanId":"a54b3543ac0feacb","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"c6b82446-fdb2-4afa-9812-cda4e8fe480d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKN3OV9QM:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c2","ConnectionId":"0HN7UKN3OV9QM"}}
{"Timestamp":"2024-11-06T22:10:18.3113590+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"fe600f040b9e992cd7a806548e615575","SpanId":"80d1d41c1a1e0065","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKTGBTG34:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:10:19.5479330+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"fe600f040b9e992cd7a806548e615575","SpanId":"80d1d41c1a1e0065","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"76f4b0a5-1a26-47ee-a804-48d9bfeb3201","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UKTGBTG34:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:10:47.3973010+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"546caeb8d0bcb8e4f7b8f393c3fc4011","SpanId":"cd85d1733e059154","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKTGBTG34:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:10:56.7156080+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"f3392feabd6ef1edd8fe34d05d6f1bce","SpanId":"75b4036364bfb3a3","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKTGBTG34:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:10:56.9432380+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c1 updated","TraceId":"f3392feabd6ef1edd8fe34d05d6f1bce","SpanId":"75b4036364bfb3a3","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"bda49494-6c09-4156-ace5-2c9c75196add","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKTGBTG34:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:10:56.9785060+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"f3392feabd6ef1edd8fe34d05d6f1bce","SpanId":"75b4036364bfb3a3","Properties":{"UserId":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"bda49494-6c09-4156-ace5-2c9c75196add","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKTGBTG34:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:10:56.9869550+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"f3392feabd6ef1edd8fe34d05d6f1bce","SpanId":"75b4036364bfb3a3","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 166\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method98(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UKTGBTG34:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:10:57.0089400+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"f3392feabd6ef1edd8fe34d05d6f1bce","SpanId":"75b4036364bfb3a3","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 166\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method98(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UKTGBTG34:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKTGBTG34"}}
{"Timestamp":"2024-11-06T22:13:29.9981950+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4dd9388b7141fecc2d639ecbccbfba92","SpanId":"35db9f780b765851","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKVCTC690:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:31.2994930+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c1 updated","TraceId":"4dd9388b7141fecc2d639ecbccbfba92","SpanId":"35db9f780b765851","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"c2ec56ef-a452-407f-a649-c696a752d59d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:31.3385870+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"4dd9388b7141fecc2d639ecbccbfba92","SpanId":"35db9f780b765851","Properties":{"UserId":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"c2ec56ef-a452-407f-a649-c696a752d59d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:31.3531210+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"4dd9388b7141fecc2d639ecbccbfba92","SpanId":"35db9f780b765851","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 165\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UKVCTC690:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:31.3686500+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"4dd9388b7141fecc2d639ecbccbfba92","SpanId":"35db9f780b765851","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 165\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UKVCTC690:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:36.1796220+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"ed85b9d9483b7e399c7a483e66d33230","SpanId":"6afe3744d50c8922","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKVCTC690:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:36.4774450+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c1 updated","TraceId":"ed85b9d9483b7e399c7a483e66d33230","SpanId":"6afe3744d50c8922","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"c2ec56ef-a452-407f-a649-c696a752d59d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:36.4816210+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"ed85b9d9483b7e399c7a483e66d33230","SpanId":"6afe3744d50c8922","Properties":{"UserId":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"c2ec56ef-a452-407f-a649-c696a752d59d","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:36.4822900+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"ed85b9d9483b7e399c7a483e66d33230","SpanId":"6afe3744d50c8922","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 165\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UKVCTC690:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:13:36.4834800+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"ed85b9d9483b7e399c7a483e66d33230","SpanId":"6afe3744d50c8922","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 165\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UKVCTC690:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:26.0202740+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9e6e004c06d8aa259e68c25e75cbf669","SpanId":"cd2669505ae26eb8","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKVCTC690:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:26.2617630+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c1 updated","TraceId":"9e6e004c06d8aa259e68c25e75cbf669","SpanId":"cd2669505ae26eb8","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"5daaf345-cea2-4b5b-b2f8-f264bd6c3ced","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:26.2695230+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"9e6e004c06d8aa259e68c25e75cbf669","SpanId":"cd2669505ae26eb8","Properties":{"UserId":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"5daaf345-cea2-4b5b-b2f8-f264bd6c3ced","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:26.2700850+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"9e6e004c06d8aa259e68c25e75cbf669","SpanId":"cd2669505ae26eb8","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method105(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UKVCTC690:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:26.2711650+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"9e6e004c06d8aa259e68c25e75cbf669","SpanId":"cd2669505ae26eb8","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method105(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UKVCTC690:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:58.6890500+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"faa23e54eafd81967bcb0697385434a0","SpanId":"d4546fe94e65fba1","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UKVCTC690:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:58.8949940+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c1 updated","TraceId":"faa23e54eafd81967bcb0697385434a0","SpanId":"d4546fe94e65fba1","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"5daaf345-cea2-4b5b-b2f8-f264bd6c3ced","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:58.8997370+01:00","Level":"Warning","MessageTemplate":"User {UserId} is not authorized to update this profile.","TraceId":"faa23e54eafd81967bcb0697385434a0","SpanId":"d4546fe94e65fba1","Properties":{"UserId":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"5daaf345-cea2-4b5b-b2f8-f264bd6c3ced","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UKVCTC690:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:58.9003270+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"faa23e54eafd81967bcb0697385434a0","SpanId":"d4546fe94e65fba1","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method105(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UKVCTC690:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:14:58.9013190+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"faa23e54eafd81967bcb0697385434a0","SpanId":"d4546fe94e65fba1","Exception":"System.UnauthorizedAccessException: You are not authorized to update this profile.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity)\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto)\n   at lambda_method105(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UKVCTC690:0000000B","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UKVCTC690"}}
{"Timestamp":"2024-11-06T22:15:31.5029070+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4b7d6c855ec1be9100cc176eb41afd79","SpanId":"d52efe07e85a6ed3","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL0HAJEQS:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UL0HAJEQS"}}
{"Timestamp":"2024-11-06T22:15:32.9721590+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c1 updated","TraceId":"4b7d6c855ec1be9100cc176eb41afd79","SpanId":"d52efe07e85a6ed3","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"64689a5e-46c5-4a60-900b-17eebb8fca16","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UL0HAJEQS:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UL0HAJEQS"}}
{"Timestamp":"2024-11-06T22:18:56.4641110+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"2ba1e6a500e585ce5666f4bc5438a3f9","SpanId":"62d13a6784a8eb4e","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:18:57.7276090+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c1 updated","TraceId":"2ba1e6a500e585ce5666f4bc5438a3f9","SpanId":"62d13a6784a8eb4e","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"655e389e-f147-433e-82c4-68040aedd9f5","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:18:57.7697380+01:00","Level":"Warning","MessageTemplate":"Logged-in user with ID {UserId} not found.","TraceId":"2ba1e6a500e585ce5666f4bc5438a3f9","SpanId":"62d13a6784a8eb4e","Properties":{"UserId":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"655e389e-f147-433e-82c4-68040aedd9f5","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:18:57.7830810+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"2ba1e6a500e585ce5666f4bc5438a3f9","SpanId":"62d13a6784a8eb4e","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID The specified user ID is invalid. does not exist.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 135\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL2BL19HI:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:18:57.7992300+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"2ba1e6a500e585ce5666f4bc5438a3f9","SpanId":"62d13a6784a8eb4e","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID The specified user ID is invalid. does not exist.\n   at StudentBlogg.Feature.Users.UserService.UpdateRegisterAsync(Guid id, UserRegistrationDto entity) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 135\n   at StudentBlogg.Feature.Users.UsersController.UpdateUserAsync(Guid id, UserRegistrationDto dto) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 66\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL2BL19HI:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c1","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:19:37.9508960+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"5f240743aaa725cf150951e467e25886","SpanId":"8995af05a78bf3d3","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:19:38.2715230+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"5f240743aaa725cf150951e467e25886","SpanId":"8995af05a78bf3d3","Exception":"System.ArgumentNullException: Value cannot be null. (Parameter 'source')\n   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)\n   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)\n   at StudentBlogg.Validators.UserRegistrationDtoValidator.<>c.<.ctor>b__0_5(String password) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Validators/UserRegistrationDtoValidator.cs:line 32\n   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass27_0`2.<Must>b__0(T x, TProperty val) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 421\n   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass28_0`2.<Must>b__0(T x, TProperty val, ValidationContext`1 _) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 437\n   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass29_0`2.<Must>b__0(T instance, TProperty property, ValidationContext`1 propertyValidatorContext) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 453\n   at FluentValidation.Validators.PredicateValidator`2.IsValid(ValidationContext`1 context, TProperty value) in /_/src/FluentValidation/Validators/PredicateValidator.cs:line 37\n   at FluentValidation.Internal.RuleComponent`2.InvokePropertyValidator(ValidationContext`1 context, TProperty value) in /_/src/FluentValidation/Internal/RuleComponent.cs:line 92\n   at FluentValidation.Internal.RuleComponent`2.ValidateAsync(ValidationContext`1 context, TProperty value, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/RuleComponent.cs:line 83\n   at FluentValidation.Internal.PropertyRule`2.ValidateAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/PropertyRule.cs:line 143\n   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/AbstractValidator.cs:line 241\n   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 202\n   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153\n   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext) in /_/src/FluentValidation.AspNetCore/FluentValidationModelValidatorProvider.cs:line 146\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitComplexType(IValidationStrategy defaultStrategy)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)\n   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)\n   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45\n   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63\n   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47\n   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL2BL19HI:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:19:38.2808820+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"5f240743aaa725cf150951e467e25886","SpanId":"8995af05a78bf3d3","Exception":"System.ArgumentNullException: Value cannot be null. (Parameter 'source')\n   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)\n   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)\n   at StudentBlogg.Validators.UserRegistrationDtoValidator.<>c.<.ctor>b__0_5(String password) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Validators/UserRegistrationDtoValidator.cs:line 32\n   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass27_0`2.<Must>b__0(T x, TProperty val) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 421\n   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass28_0`2.<Must>b__0(T x, TProperty val, ValidationContext`1 _) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 437\n   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass29_0`2.<Must>b__0(T instance, TProperty property, ValidationContext`1 propertyValidatorContext) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 453\n   at FluentValidation.Validators.PredicateValidator`2.IsValid(ValidationContext`1 context, TProperty value) in /_/src/FluentValidation/Validators/PredicateValidator.cs:line 37\n   at FluentValidation.Internal.RuleComponent`2.InvokePropertyValidator(ValidationContext`1 context, TProperty value) in /_/src/FluentValidation/Internal/RuleComponent.cs:line 92\n   at FluentValidation.Internal.RuleComponent`2.ValidateAsync(ValidationContext`1 context, TProperty value, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/RuleComponent.cs:line 83\n   at FluentValidation.Internal.PropertyRule`2.ValidateAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/PropertyRule.cs:line 143\n   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/AbstractValidator.cs:line 241\n   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 202\n   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153\n   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext) in /_/src/FluentValidation.AspNetCore/FluentValidationModelValidatorProvider.cs:line 146\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitComplexType(IValidationStrategy defaultStrategy)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)\n   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)\n   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45\n   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63\n   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47\n   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)\n   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL2BL19HI:00000007","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:20:13.1813160+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4455daa60b390329b5c86a186e07f2cc","SpanId":"37615de49a12d1e7","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:20:13.4093720+01:00","Level":"Information","MessageTemplate":"Updating user with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c7 updated","TraceId":"4455daa60b390329b5c86a186e07f2cc","SpanId":"37615de49a12d1e7","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"655e389e-f147-433e-82c4-68040aedd9f5","ActionName":"StudentBlogg.Feature.Users.UsersController.UpdateUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000009","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:20:19.4049490+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"2a93c24d63370f268236beb826301b23","SpanId":"8f3e022a79064c27","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:0000000B","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:20:19.4417000+01:00","Level":"Warning","MessageTemplate":"Username and/or password is incorrect","TraceId":"2a93c24d63370f268236beb826301b23","SpanId":"8f3e022a79064c27","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UL2BL19HI:0000000B","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:20:19.4427420+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"2a93c24d63370f268236beb826301b23","SpanId":"8f3e022a79064c27","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL2BL19HI:0000000B","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:20:19.4433130+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"2a93c24d63370f268236beb826301b23","SpanId":"8f3e022a79064c27","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL2BL19HI:0000000B","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:12.2812990+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"f765849ccc79b4b8527c4fb9a416bc00","SpanId":"52961e177d9e858b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:0000000D","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:12.4990270+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"f765849ccc79b4b8527c4fb9a416bc00","SpanId":"52961e177d9e858b","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"44bb0104-7894-4857-b18c-210a6d2ce0e4","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:0000000D","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:46.0016490+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"dc0b9a9b08c51d1e304988d2d66edde0","SpanId":"01271d80f13dc6a2","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:0000000F","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7de","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:55.4247460+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"e6695ff8629899fce8e4b346cbf32f11","SpanId":"2d96db74648537be","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000011","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7df","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:55.6286450+01:00","Level":"Information","MessageTemplate":"User with ID 0290580f-bd78-4012-90dd-9e36552cc7df deleted","TraceId":"e6695ff8629899fce8e4b346cbf32f11","SpanId":"2d96db74648537be","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000011","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7df","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:55.6394510+01:00","Level":"Warning","MessageTemplate":"User with ID {UserID} does not exist","TraceId":"e6695ff8629899fce8e4b346cbf32f11","SpanId":"2d96db74648537be","Properties":{"UserID":"0290580f-bd78-4012-90dd-9e36552cc7df","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000011","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7df","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:55.6401820+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"e6695ff8629899fce8e4b346cbf32f11","SpanId":"2d96db74648537be","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID 0290580f-bd78-4012-90dd-9e36552cc7df does not exist.\n   at StudentBlogg.Feature.Users.UserService.DeleteByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 67\n   at StudentBlogg.Feature.Users.UsersController.DeleteUserAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 55\n   at lambda_method202(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL2BL19HI:00000011","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7df","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:21:55.6412110+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"e6695ff8629899fce8e4b346cbf32f11","SpanId":"2d96db74648537be","Exception":"StudentBlogg.Middleware.NoUserFoundException: User with ID 0290580f-bd78-4012-90dd-9e36552cc7df does not exist.\n   at StudentBlogg.Feature.Users.UserService.DeleteByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UserService.cs:line 67\n   at StudentBlogg.Feature.Users.UsersController.DeleteUserAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Users/UsersController.cs:line 55\n   at lambda_method202(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL2BL19HI:00000011","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7df","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:01.4547660+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d6b6a60944755425ffdf6ac5392d234a","SpanId":"2e0299cb0296d134","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000013","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7de","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:01.7087870+01:00","Level":"Information","MessageTemplate":"User with ID 0290580f-bd78-4012-90dd-9e36552cc7de deleted","TraceId":"d6b6a60944755425ffdf6ac5392d234a","SpanId":"2e0299cb0296d134","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000013","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7de","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:01.7195590+01:00","Level":"Debug","MessageTemplate":"Deleting user with ID: {UserID}","TraceId":"d6b6a60944755425ffdf6ac5392d234a","SpanId":"2e0299cb0296d134","Properties":{"UserID":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000013","RequestPath":"/api/v1/Users/0290580f-bd78-4012-90dd-9e36552cc7de","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:05.7505310+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"6165a647f7e02797147d9967e8577a0c","SpanId":"dea6a04da05b9d76","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000015","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:05.9720030+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"6165a647f7e02797147d9967e8577a0c","SpanId":"dea6a04da05b9d76","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"44bb0104-7894-4857-b18c-210a6d2ce0e4","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000015","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:18.0863830+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"fd141f2171160e0e21488416a044d727","SpanId":"7ae95855b621df90","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000017","RequestPath":"/api/v1/Users/622c9683-f21f-4a02-a546-d37ff85fab09","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:18.2960400+01:00","Level":"Information","MessageTemplate":"User with ID 622c9683-f21f-4a02-a546-d37ff85fab09 deleted","TraceId":"fd141f2171160e0e21488416a044d727","SpanId":"7ae95855b621df90","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000017","RequestPath":"/api/v1/Users/622c9683-f21f-4a02-a546-d37ff85fab09","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:18.3023020+01:00","Level":"Debug","MessageTemplate":"Deleting user with ID: {UserID}","TraceId":"fd141f2171160e0e21488416a044d727","SpanId":"7ae95855b621df90","Properties":{"UserID":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000017","RequestPath":"/api/v1/Users/622c9683-f21f-4a02-a546-d37ff85fab09","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:22.7855130+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"60da3c40b5742e5a5dc568eceabdb345","SpanId":"4dd28ef009f698e6","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000019","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:22.9711500+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"60da3c40b5742e5a5dc568eceabdb345","SpanId":"4dd28ef009f698e6","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"44bb0104-7894-4857-b18c-210a6d2ce0e4","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000019","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:46.6951440+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9ba5be06d659363ca7921166279ceb0e","SpanId":"fac275ff672cfe2e","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:0000001B","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:46.8699140+01:00","Level":"Information","MessageTemplate":"User with ID 54858a75-a8f4-420a-a329-0cccb849d93f deleted","TraceId":"9ba5be06d659363ca7921166279ceb0e","SpanId":"fac275ff672cfe2e","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:0000001B","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:22:46.8769130+01:00","Level":"Debug","MessageTemplate":"Deleting user with ID: {UserID}","TraceId":"9ba5be06d659363ca7921166279ceb0e","SpanId":"fac275ff672cfe2e","Properties":{"UserID":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Users.UserService","ActionId":"acf151bf-2515-4a16-bfea-6ab9642cfd3f","ActionName":"StudentBlogg.Feature.Users.UsersController.DeleteUserAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:0000001B","RequestPath":"/api/v1/Users/54858a75-a8f4-420a-a329-0cccb849d93f","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:23:00.0720890+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"0f25308f3cb847fb443a23c486829c55","SpanId":"258a8c0dccbfbfb0","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:0000001D","RequestPath":"/api/v1/Post","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:23:00.2799970+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"0f25308f3cb847fb443a23c486829c55","SpanId":"258a8c0dccbfbfb0","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"5fa2237c-9a12-49d1-a5c0-7db90e48e779","ActionName":"StudentBlogg.Feature.Posts.PostController.GetPosts (StudentBlogg)","RequestId":"0HN7UL2BL19HI:0000001D","RequestPath":"/api/v1/Post","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:23:20.9096250+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"3b4396f303cc54960239a0532f212d18","SpanId":"387e23c66f77e924","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:0000001F","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9808","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:23:24.9990810+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d9664bc9d3a4e9ca70b7b663c0f6cca3","SpanId":"7277644a4d395017","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HI:00000021","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:23:25.1901670+01:00","Level":"Error","MessageTemplate":"Post with id 2748dd16-9f04-4e57-956c-08392afb9809 not found.","TraceId":"d9664bc9d3a4e9ca70b7b663c0f6cca3","SpanId":"7277644a4d395017","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostController","ActionId":"6511e7ea-c87d-4537-b69c-f61c3e5e7ae5","ActionName":"StudentBlogg.Feature.Posts.PostController.GetPostAsync (StudentBlogg)","RequestId":"0HN7UL2BL19HI:00000021","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL2BL19HI"}}
{"Timestamp":"2024-11-06T22:27:05.5516510+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"65cb8e03163482ba5c466d86e504d5f9","SpanId":"340f566cd106c47f","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL2BL19HJ:00000001","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL2BL19HJ"}}
{"Timestamp":"2024-11-06T22:27:05.7718580+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"65cb8e03163482ba5c466d86e504d5f9","SpanId":"340f566cd106c47f","Exception":"System.NullReferenceException: Post not found\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id)\n   at lambda_method282(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL2BL19HJ:00000001","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL2BL19HJ"}}
{"Timestamp":"2024-11-06T22:27:05.7731080+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"65cb8e03163482ba5c466d86e504d5f9","SpanId":"340f566cd106c47f","Exception":"System.NullReferenceException: Post not found\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id)\n   at lambda_method282(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL2BL19HJ:00000001","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL2BL19HJ"}}
{"Timestamp":"2024-11-06T22:28:22.7953660+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"e5093ffa01e5dd5a5dc103b7c0321488","SpanId":"4c05859c2d67aac5","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:00000005","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:24.0797430+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"e5093ffa01e5dd5a5dc103b7c0321488","SpanId":"4c05859c2d67aac5","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostController.cs:line 16\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL7MHTV44:00000005","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:24.0969330+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"e5093ffa01e5dd5a5dc103b7c0321488","SpanId":"4c05859c2d67aac5","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostController.cs:line 16\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL7MHTV44:00000005","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:27.6127190+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"5fbf1495e0c1a73d6133170bc5d38dfd","SpanId":"529c4965274f0c12","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:00000007","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:27.9077840+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"5fbf1495e0c1a73d6133170bc5d38dfd","SpanId":"529c4965274f0c12","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostController.cs:line 16\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL7MHTV44:00000007","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:27.9088380+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"5fbf1495e0c1a73d6133170bc5d38dfd","SpanId":"529c4965274f0c12","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostController.cs:line 16\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL7MHTV44:00000007","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:47.9023430+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"ae778e656365913054e06608ff0109b9","SpanId":"8e69f856b4e53faa","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:0000000B","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:47.9824590+01:00","Level":"Warning","MessageTemplate":"Authentication header is empty","TraceId":"ae778e656365913054e06608ff0109b9","SpanId":"8e69f856b4e53faa","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UL7MHTV44:0000000B","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:47.9830400+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"ae778e656365913054e06608ff0109b9","SpanId":"8e69f856b4e53faa","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 34\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL7MHTV44:0000000B","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:28:47.9835950+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"ae778e656365913054e06608ff0109b9","SpanId":"8e69f856b4e53faa","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 34\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL7MHTV44:0000000B","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:29:05.1858520+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9138389aa46b5a8eb99cb0ef54b454bb","SpanId":"3fdb8e2381ae4091","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:0000000D","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:29:05.4068330+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"9138389aa46b5a8eb99cb0ef54b454bb","SpanId":"3fdb8e2381ae4091","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostController.cs:line 16\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL7MHTV44:0000000D","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:29:05.4078120+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"9138389aa46b5a8eb99cb0ef54b454bb","SpanId":"3fdb8e2381ae4091","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostController.cs:line 16\n   at lambda_method78(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 79\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL7MHTV44:0000000D","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:29:53.4961690+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"2ca24f022871bf96cc22c3a1b318e560","SpanId":"1f72acc12428d68d","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:0000000F","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:29:53.7618330+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"2ca24f022871bf96cc22c3a1b318e560","SpanId":"1f72acc12428d68d","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id)\n   at lambda_method96(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL7MHTV44:0000000F","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:29:53.7637320+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"2ca24f022871bf96cc22c3a1b318e560","SpanId":"1f72acc12428d68d","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id)\n   at lambda_method96(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL7MHTV44:0000000F","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9809","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:30:25.4802530+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"899244683a5ad8940fe154d0d0748471","SpanId":"2e390a17d643e812","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:00000011","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9801","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:30:25.6773890+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"899244683a5ad8940fe154d0d0748471","SpanId":"2e390a17d643e812","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id)\n   at lambda_method96(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UL7MHTV44:00000011","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9801","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:30:25.6784440+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"899244683a5ad8940fe154d0d0748471","SpanId":"2e390a17d643e812","Exception":"StudentBlogg.Middleware.PostNotFoundException: Not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id)\n   at StudentBlogg.Feature.Posts.PostController.GetPostAsync(Guid id)\n   at lambda_method96(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UL7MHTV44:00000011","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9801","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:30:39.0371450+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"bd3a3b1b27aca45bb93ad2ebe94e8822","SpanId":"8e84603adce823de","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:00000013","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9808","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:31:19.4442990+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"ba605d05f655f73432b9d1f1a25fc76a","SpanId":"1beb0b362eefad5d","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:00000015","RequestPath":"/api/v1/Post/Post","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:31:30.0135990+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"64e2a3f86bdde73a1c0f7f7423d5626d","SpanId":"051df906196357c8","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:00000017","RequestPath":"/api/v1/Post","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:31:30.2066220+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"64e2a3f86bdde73a1c0f7f7423d5626d","SpanId":"051df906196357c8","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"62751394-e0b9-496e-a47a-c5b47b0aaf2c","ActionName":"StudentBlogg.Feature.Posts.PostController.GetPosts (StudentBlogg)","RequestId":"0HN7UL7MHTV44:00000017","RequestPath":"/api/v1/Post","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:32:17.3866410+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"03b412d454333cc3471c0815299afced","SpanId":"84bce7b3eba56ecc","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UL7MHTV44:00000019","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9801","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:32:17.5982160+01:00","Level":"Information","MessageTemplate":"Attempting to update post with id 2748dd16-9f04-4e57-956c-08392afb9801.","TraceId":"03b412d454333cc3471c0815299afced","SpanId":"84bce7b3eba56ecc","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostController","ActionId":"828b1ae3-1bfc-4718-8007-839d6fa18d67","ActionName":"StudentBlogg.Feature.Posts.PostController.UpdatePost (StudentBlogg)","RequestId":"0HN7UL7MHTV44:00000019","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9801","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:32:17.6125830+01:00","Level":"Warning","MessageTemplate":"Post with Id {PostId} not found","TraceId":"03b412d454333cc3471c0815299afced","SpanId":"84bce7b3eba56ecc","Properties":{"PostId":"2748dd16-9f04-4e57-956c-08392afb9801","SourceContext":"StudentBlogg.Feature.Posts.PostService","ActionId":"828b1ae3-1bfc-4718-8007-839d6fa18d67","ActionName":"StudentBlogg.Feature.Posts.PostController.UpdatePost (StudentBlogg)","RequestId":"0HN7UL7MHTV44:00000019","RequestPath":"/api/v1/Post/2748dd16-9f04-4e57-956c-08392afb9801","ConnectionId":"0HN7UL7MHTV44"}}
{"Timestamp":"2024-11-06T22:38:07.6401420+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4acf45ac1fabd81162e62ba3b3c6dec6","SpanId":"47ec726f95f85787","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULCSI6B58:00000005","RequestPath":"/api/v1/Comment/Comments/2748dd16-9f04-4e57-956c-08392afb9809/comments","ConnectionId":"0HN7ULCSI6B58"}}
{"Timestamp":"2024-11-06T22:38:08.5819530+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"4acf45ac1fabd81162e62ba3b3c6dec6","SpanId":"47ec726f95f85787","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentController.cs:line 19\n   at lambda_method8(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULCSI6B58:00000005","RequestPath":"/api/v1/Comment/Comments/2748dd16-9f04-4e57-956c-08392afb9809/comments","ConnectionId":"0HN7ULCSI6B58"}}
{"Timestamp":"2024-11-06T22:38:08.5974050+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"4acf45ac1fabd81162e62ba3b3c6dec6","SpanId":"47ec726f95f85787","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentController.cs:line 19\n   at lambda_method8(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULCSI6B58:00000005","RequestPath":"/api/v1/Comment/Comments/2748dd16-9f04-4e57-956c-08392afb9809/comments","ConnectionId":"0HN7ULCSI6B58"}}
{"Timestamp":"2024-11-06T22:38:39.9800200+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"72aeddc5d24e0a1193323baf549283ce","SpanId":"c1697a0f72054fd0","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULCSI6B58:00000007","RequestPath":"/api/v1/Comment/Comments/2748dd16-9f04-4e57-956c-08392afb9808/comments","ConnectionId":"0HN7ULCSI6B58"}}
{"Timestamp":"2024-11-06T22:38:40.1193640+01:00","Level":"Information","MessageTemplate":"GetPagedAsync started for 10 of 10.","TraceId":"72aeddc5d24e0a1193323baf549283ce","SpanId":"c1697a0f72054fd0","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentRepository","ActionId":"bdd3f531-d73a-43a6-9da7-1b2fffc940f2","ActionName":"StudentBlogg.Feature.Comments.CommentController.GetComment (StudentBlogg)","RequestId":"0HN7ULCSI6B58:00000007","RequestPath":"/api/v1/Comment/Comments/2748dd16-9f04-4e57-956c-08392afb9808/comments","ConnectionId":"0HN7ULCSI6B58"}}
{"Timestamp":"2024-11-06T22:40:45.3113690+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"2ee64d7b392d8382bfefbb4441102a39","SpanId":"c4c9982691b2fcbc","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULCSI6B58:00000009","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B58"}}
{"Timestamp":"2024-11-06T22:40:45.6975040+01:00","Level":"Information","MessageTemplate":"GetPagedAsync started for 10 of 10.","TraceId":"2ee64d7b392d8382bfefbb4441102a39","SpanId":"c4c9982691b2fcbc","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentRepository","ActionId":"2873e150-9f4f-4be7-b545-809ae2cd0ccf","ActionName":"StudentBlogg.Feature.Comments.CommentController.GetComments (StudentBlogg)","RequestId":"0HN7ULCSI6B58:00000009","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B58"}}
{"Timestamp":"2024-11-06T22:48:40.0993060+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"a8ec6fdf2918825f2502966a501cde47","SpanId":"303c1c769d442dc0","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULCSI6B59:00000001","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:40.1534500+01:00","Level":"Warning","MessageTemplate":"Authentication header is empty","TraceId":"a8ec6fdf2918825f2502966a501cde47","SpanId":"303c1c769d442dc0","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7ULCSI6B59:00000001","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:40.1566790+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"a8ec6fdf2918825f2502966a501cde47","SpanId":"303c1c769d442dc0","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULCSI6B59:00000001","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:40.1643710+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"a8ec6fdf2918825f2502966a501cde47","SpanId":"303c1c769d442dc0","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULCSI6B59:00000001","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.5917790+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"15bc4da1a4bde5121599181cabf6d4c9","SpanId":"5202d842eb044341","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULCSI6B59:00000003","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.6377600+01:00","Level":"Warning","MessageTemplate":"Authentication header is empty","TraceId":"15bc4da1a4bde5121599181cabf6d4c9","SpanId":"5202d842eb044341","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7ULCSI6B59:00000003","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.6381270+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"15bc4da1a4bde5121599181cabf6d4c9","SpanId":"5202d842eb044341","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULCSI6B59:00000003","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.6385260+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"15bc4da1a4bde5121599181cabf6d4c9","SpanId":"5202d842eb044341","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULCSI6B59:00000003","RequestPath":"/api/v1/Comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.8142450+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4c87dc61f4434f20dd02c9bbd80a8f6f","SpanId":"3c256f3e8c820f8c","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULCSI6B59:00000005","RequestPath":"/favicon.ico","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.8366500+01:00","Level":"Warning","MessageTemplate":"Authentication header is empty","TraceId":"4c87dc61f4434f20dd02c9bbd80a8f6f","SpanId":"3c256f3e8c820f8c","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7ULCSI6B59:00000005","RequestPath":"/favicon.ico","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.8370610+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"4c87dc61f4434f20dd02c9bbd80a8f6f","SpanId":"3c256f3e8c820f8c","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULCSI6B59:00000005","RequestPath":"/favicon.ico","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:48.8376970+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"4c87dc61f4434f20dd02c9bbd80a8f6f","SpanId":"3c256f3e8c820f8c","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULCSI6B59:00000005","RequestPath":"/favicon.ico","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:55.0554410+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"cce01abb0e9fca3c9762cda4cba70009","SpanId":"0e2808de36279119","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULCSI6B59:00000007","RequestPath":"/api/v1/comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:55.0821860+01:00","Level":"Warning","MessageTemplate":"Authentication header is empty","TraceId":"cce01abb0e9fca3c9762cda4cba70009","SpanId":"0e2808de36279119","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7ULCSI6B59:00000007","RequestPath":"/api/v1/comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:55.0826730+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"cce01abb0e9fca3c9762cda4cba70009","SpanId":"0e2808de36279119","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULCSI6B59:00000007","RequestPath":"/api/v1/comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:48:55.0833690+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"cce01abb0e9fca3c9762cda4cba70009","SpanId":"0e2808de36279119","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULCSI6B59:00000007","RequestPath":"/api/v1/comment","ConnectionId":"0HN7ULCSI6B59"}}
{"Timestamp":"2024-11-06T22:50:41.7472580+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"b714e9b5ac93ab829aac1026124f4bf1","SpanId":"6c981139eb94b39e","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:00000005","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:50:42.3219360+01:00","Level":"Warning","MessageTemplate":"Authentication header is empty","TraceId":"b714e9b5ac93ab829aac1026124f4bf1","SpanId":"6c981139eb94b39e","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7ULJSQQOFA:00000005","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:50:42.3254050+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"b714e9b5ac93ab829aac1026124f4bf1","SpanId":"6c981139eb94b39e","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 34\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFA:00000005","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:50:42.3360900+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"b714e9b5ac93ab829aac1026124f4bf1","SpanId":"6c981139eb94b39e","Exception":"StudentBlogg.Middleware.InvalidAuthHeaderException: Invalid auth header.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 34\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFA:00000005","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:51:21.5130210+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"5c990c25bf4c51a6017718f551fe69d5","SpanId":"5145f7b917be06d5","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:00000007","RequestPath":"/api/v1/Comments/08dcf9af-d310-48db-8e8a-7a711a2d25f7/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:51:21.9246380+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"5c990c25bf4c51a6017718f551fe69d5","SpanId":"5145f7b917be06d5","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentsController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentsController.cs:line 19\n   at lambda_method11(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFA:00000007","RequestPath":"/api/v1/Comments/08dcf9af-d310-48db-8e8a-7a711a2d25f7/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:51:21.9274040+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"5c990c25bf4c51a6017718f551fe69d5","SpanId":"5145f7b917be06d5","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentsController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentsController.cs:line 19\n   at lambda_method11(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFA:00000007","RequestPath":"/api/v1/Comments/08dcf9af-d310-48db-8e8a-7a711a2d25f7/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:51:50.7933390+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4a3fcc52ca2d23bfb54f668f68a09934","SpanId":"cfe2cfa641d986e4","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:00000009","RequestPath":"/api/v1/Comments/2748dd16-9f04-4e57-956c-08392afb9808/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:51:50.9542130+01:00","Level":"Information","MessageTemplate":"GetPagedAsync started for 10 of 10.","TraceId":"4a3fcc52ca2d23bfb54f668f68a09934","SpanId":"cfe2cfa641d986e4","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentRepository","ActionId":"3a3b47e0-c90c-472d-b01e-39aa29016ed5","ActionName":"StudentBlogg.Feature.Comments.CommentsController.GetComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFA:00000009","RequestPath":"/api/v1/Comments/2748dd16-9f04-4e57-956c-08392afb9808/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:52:01.1756580+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c605d823beb0b5d19f5c8fae5bf2641e","SpanId":"97bf14a749078cc8","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:0000000B","RequestPath":"/api/v1/Comments/2748dd16-9f04-4e57-956c-08392afb9801/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:52:01.2210470+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"c605d823beb0b5d19f5c8fae5bf2641e","SpanId":"97bf14a749078cc8","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentsController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentsController.cs:line 19\n   at lambda_method11(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFA:0000000B","RequestPath":"/api/v1/Comments/2748dd16-9f04-4e57-956c-08392afb9801/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:52:01.2228940+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"c605d823beb0b5d19f5c8fae5bf2641e","SpanId":"97bf14a749078cc8","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentsController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentsController.cs:line 19\n   at lambda_method11(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFA:0000000B","RequestPath":"/api/v1/Comments/2748dd16-9f04-4e57-956c-08392afb9801/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:52:38.0228730+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"10c58807c5f7cd02f9e0dd816f973136","SpanId":"26e76f1dba45aad6","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:0000000D","RequestPath":"/api/v1/Posts/Post","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:30.3133990+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"bd8778f1e57829fa04799b673ee0b699","SpanId":"a61b0d2099ac9077","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:0000000F","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:30.3717180+01:00","Level":"Information","MessageTemplate":"GetPagedAsync started for 10 of 10.","TraceId":"bd8778f1e57829fa04799b673ee0b699","SpanId":"a61b0d2099ac9077","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentRepository","ActionId":"3a3b47e0-c90c-472d-b01e-39aa29016ed5","ActionName":"StudentBlogg.Feature.Comments.CommentsController.GetComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFA:0000000F","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:41.9620820+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"6035b6d21d2b3735d491bf8b5f1102bf","SpanId":"63ba13fabe8b1400","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:00000011","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa1/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:41.9945060+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"6035b6d21d2b3735d491bf8b5f1102bf","SpanId":"63ba13fabe8b1400","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentsController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentsController.cs:line 19\n   at lambda_method11(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFA:00000011","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa1/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:41.9970060+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"6035b6d21d2b3735d491bf8b5f1102bf","SpanId":"63ba13fabe8b1400","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Posts.PostService.GetByIdAsync(Guid id) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Posts/PostService.cs:line 19\n   at StudentBlogg.Feature.Comments.CommentsController.GetComment(Guid postId) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Feature/Comments/CommentsController.cs:line 19\n   at lambda_method11(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 25\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFA:00000011","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa1/comments","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:57.1979300+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"30b3680b28407c3457ad40f4d0fa04bc","SpanId":"3afee0b59b269af3","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFA:00000013","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:57.4881190+01:00","Level":"Information","MessageTemplate":"Attempting to Delete comment with id 060d1f29-965f-4863-adfb-2469bca16fa4","TraceId":"30b3680b28407c3457ad40f4d0fa04bc","SpanId":"3afee0b59b269af3","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentsController","ActionId":"00ccd545-d464-44b6-b1b8-6a673791bd7b","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFA:00000013","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:53:57.5013870+01:00","Level":"Warning","MessageTemplate":"Comment not found: {Id}","TraceId":"30b3680b28407c3457ad40f4d0fa04bc","SpanId":"3afee0b59b269af3","Properties":{"Id":"060d1f29-965f-4863-adfb-2469bca16fa4","SourceContext":"StudentBlogg.Feature.Comments.CommentService","ActionId":"00ccd545-d464-44b6-b1b8-6a673791bd7b","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFA:00000013","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFA"}}
{"Timestamp":"2024-11-06T22:58:33.2117210+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"aebd84bdae240dcf8e41f0ece773e689","SpanId":"4f38840085bf7854","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000001","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T22:58:33.4319820+01:00","Level":"Information","MessageTemplate":"Attempting to Delete comment with id 060d1f29-965f-4863-adfb-2469bca16fa4","TraceId":"aebd84bdae240dcf8e41f0ece773e689","SpanId":"4f38840085bf7854","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentsController","ActionId":"4268d636-599c-4b7b-bd36-0bcbdf45b4d2","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000001","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T22:58:33.4432430+01:00","Level":"Warning","MessageTemplate":"Comment not found: {Id}","TraceId":"aebd84bdae240dcf8e41f0ece773e689","SpanId":"4f38840085bf7854","Properties":{"Id":"060d1f29-965f-4863-adfb-2469bca16fa4","SourceContext":"StudentBlogg.Feature.Comments.CommentService","ActionId":"4268d636-599c-4b7b-bd36-0bcbdf45b4d2","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000001","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T22:58:33.4440990+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"aebd84bdae240dcf8e41f0ece773e689","SpanId":"4f38840085bf7854","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Comments.CommentService.DeleteByIdAsync(Guid id)\n   at StudentBlogg.Feature.Comments.CommentsController.DeleteComment(Guid id)\n   at lambda_method285(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFB:00000001","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T22:58:33.4456140+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"aebd84bdae240dcf8e41f0ece773e689","SpanId":"4f38840085bf7854","Exception":"StudentBlogg.Middleware.PostNotFoundException: Post not found.\n   at StudentBlogg.Feature.Comments.CommentService.DeleteByIdAsync(Guid id)\n   at StudentBlogg.Feature.Comments.CommentsController.DeleteComment(Guid id)\n   at lambda_method285(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFB:00000001","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:00:28.8756260+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"4edfbf7376e0a994ac7f4ceede33dd9d","SpanId":"316c4ac2e34ddc66","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000003","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:00:29.0891900+01:00","Level":"Information","MessageTemplate":"Attempting to Delete comment with id 060d1f29-965f-4863-adfb-2469bca16fa4","TraceId":"4edfbf7376e0a994ac7f4ceede33dd9d","SpanId":"316c4ac2e34ddc66","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentsController","ActionId":"54f95916-8e6f-4071-965e-2435f949443f","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000003","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:00:29.0958920+01:00","Level":"Warning","MessageTemplate":"Comment not found: {Id}","TraceId":"4edfbf7376e0a994ac7f4ceede33dd9d","SpanId":"316c4ac2e34ddc66","Properties":{"Id":"060d1f29-965f-4863-adfb-2469bca16fa4","SourceContext":"StudentBlogg.Feature.Comments.CommentService","ActionId":"54f95916-8e6f-4071-965e-2435f949443f","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000003","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:00:29.0966980+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"4edfbf7376e0a994ac7f4ceede33dd9d","SpanId":"316c4ac2e34ddc66","Exception":"StudentBlogg.Middleware.CommentNotFoundException: Comment not found.\n   at StudentBlogg.Feature.Comments.CommentService.DeleteByIdAsync(Guid id)\n   at StudentBlogg.Feature.Comments.CommentsController.DeleteComment(Guid id)\n   at lambda_method293(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFB:00000003","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:00:29.0985360+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"4edfbf7376e0a994ac7f4ceede33dd9d","SpanId":"316c4ac2e34ddc66","Exception":"StudentBlogg.Middleware.CommentNotFoundException: Comment not found.\n   at StudentBlogg.Feature.Comments.CommentService.DeleteByIdAsync(Guid id)\n   at StudentBlogg.Feature.Comments.CommentsController.DeleteComment(Guid id)\n   at lambda_method293(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFB:00000003","RequestPath":"/api/v1/Comments/060d1f29-965f-4863-adfb-2469bca16fa4","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:01:08.6595870+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c8e4e4e949ec325c03c438908ae5e46a","SpanId":"d09b940d54822594","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:01:08.9016790+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"c8e4e4e949ec325c03c438908ae5e46a","SpanId":"d09b940d54822594","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"44afd489-868e-4742-91a8-bf24de67400d","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:01:24.5707970+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"40fa64d8fb55f81fe48c06b4270d24b7","SpanId":"0465f5a69f02c208","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000007","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:01:24.7687310+01:00","Level":"Information","MessageTemplate":"GetPagedAsync started for 10 of 10.","TraceId":"40fa64d8fb55f81fe48c06b4270d24b7","SpanId":"0465f5a69f02c208","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentRepository","ActionId":"63554dee-3ae9-43d8-a438-c315e7ee0f91","ActionName":"StudentBlogg.Feature.Comments.CommentsController.GetComments (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000007","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:01:59.0241070+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"5e403e4ee2c8769fe72a4a2c3bf3b260","SpanId":"a53602c9be141a1f","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000009","RequestPath":"/api/v1/Comments/08dcf9af-d310-48db-8e8a-7a711a2d25f7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:01:59.2222490+01:00","Level":"Information","MessageTemplate":"Attempting to Delete comment with id 08dcf9af-d310-48db-8e8a-7a711a2d25f7","TraceId":"5e403e4ee2c8769fe72a4a2c3bf3b260","SpanId":"a53602c9be141a1f","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentsController","ActionId":"54f95916-8e6f-4071-965e-2435f949443f","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000009","RequestPath":"/api/v1/Comments/08dcf9af-d310-48db-8e8a-7a711a2d25f7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:01:59.2299830+01:00","Level":"Information","MessageTemplate":"Deleting comment with id {commentID} for user {userID}","TraceId":"5e403e4ee2c8769fe72a4a2c3bf3b260","SpanId":"a53602c9be141a1f","Properties":{"commentID":"08dcf9af-d310-48db-8e8a-7a711a2d25f7","userID":"df6fc42d-bd92-4efe-a48a-b0d46af0c8c7","SourceContext":"StudentBlogg.Feature.Comments.CommentService","ActionId":"54f95916-8e6f-4071-965e-2435f949443f","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000009","RequestPath":"/api/v1/Comments/08dcf9af-d310-48db-8e8a-7a711a2d25f7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:03:44.7515000+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"e2b9f166d3979ba100d6fa75ad196d99","SpanId":"ab3b6c7444db7614","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:0000000B","RequestPath":"/api/v1/Comments/Post","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:04:15.8319930+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"76a2f6b3ec0c8306cc35cdbf62afaec2","SpanId":"96182807b66aadb1","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:0000000D","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:04:15.8991300+01:00","Level":"Warning","MessageTemplate":"Username and/or password is incorrect","TraceId":"76a2f6b3ec0c8306cc35cdbf62afaec2","SpanId":"96182807b66aadb1","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7ULJSQQOFB:0000000D","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:04:15.8997000+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"76a2f6b3ec0c8306cc35cdbf62afaec2","SpanId":"96182807b66aadb1","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFB:0000000D","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:04:15.9002540+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"76a2f6b3ec0c8306cc35cdbf62afaec2","SpanId":"96182807b66aadb1","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFB:0000000D","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:04:46.6395490+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"ddab0dc2afd1f89d37dcb72108fb5df4","SpanId":"5fe665fe1a3ded11","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:0000000F","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:04:46.8482720+01:00","Level":"Information","MessageTemplate":"Attempting to Delete comment with id 36269700-e8b5-4e2f-b501-d4815113b8d7","TraceId":"ddab0dc2afd1f89d37dcb72108fb5df4","SpanId":"5fe665fe1a3ded11","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentsController","ActionId":"54f95916-8e6f-4071-965e-2435f949443f","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:0000000F","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:04:46.8539930+01:00","Level":"Warning","MessageTemplate":"User {UserId} not autorized to delete comment with id {commentId}","TraceId":"ddab0dc2afd1f89d37dcb72108fb5df4","SpanId":"5fe665fe1a3ded11","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","commentId":"36269700-e8b5-4e2f-b501-d4815113b8d7","SourceContext":"StudentBlogg.Feature.Comments.CommentService","ActionId":"54f95916-8e6f-4071-965e-2435f949443f","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:0000000F","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:06:19.2073190+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c3b5ecb06f879d6344558bde1841c63c","SpanId":"8bf3431d984329d4","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000011","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:06:19.4318400+01:00","Level":"Information","MessageTemplate":"Attempting to Delete comment with id 36269700-e8b5-4e2f-b501-d4815113b8d7","TraceId":"c3b5ecb06f879d6344558bde1841c63c","SpanId":"8bf3431d984329d4","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentsController","ActionId":"b1e61a7f-05cd-41b1-8173-63394171da92","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000011","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:06:19.4383350+01:00","Level":"Warning","MessageTemplate":"User {UserId} not autorized to delete comment with id {commentId}","TraceId":"c3b5ecb06f879d6344558bde1841c63c","SpanId":"8bf3431d984329d4","Properties":{"UserId":"4b336924-7a22-4638-b310-21de80c5dd52","commentId":"36269700-e8b5-4e2f-b501-d4815113b8d7","SourceContext":"StudentBlogg.Feature.Comments.CommentService","ActionId":"b1e61a7f-05cd-41b1-8173-63394171da92","ActionName":"StudentBlogg.Feature.Comments.CommentsController.DeleteComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000011","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:06:19.4391400+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"c3b5ecb06f879d6344558bde1841c63c","SpanId":"8bf3431d984329d4","Exception":"StudentBlogg.Middleware.UnauthorisedOperation: Unauthorised operation. You are trying to delete something that does not belong to your account.\n   at StudentBlogg.Feature.Comments.CommentService.DeleteByIdAsync(Guid id)\n   at StudentBlogg.Feature.Comments.CommentsController.DeleteComment(Guid id)\n   at lambda_method369(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7ULJSQQOFB:00000011","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:06:19.4439530+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"c3b5ecb06f879d6344558bde1841c63c","SpanId":"8bf3431d984329d4","Exception":"StudentBlogg.Middleware.UnauthorisedOperation: Unauthorised operation. You are trying to delete something that does not belong to your account.\n   at StudentBlogg.Feature.Comments.CommentService.DeleteByIdAsync(Guid id)\n   at StudentBlogg.Feature.Comments.CommentsController.DeleteComment(Guid id)\n   at lambda_method369(Closure, Object)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7ULJSQQOFB:00000011","RequestPath":"/api/v1/Comments/36269700-e8b5-4e2f-b501-d4815113b8d7","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:06:48.1715020+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"951cc0b9ba2f2591bf29c49d1b8f92a7","SpanId":"506be8ff4d6ddd08","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000013","RequestPath":"/api/v1/Comments/Post","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:07:08.3008970+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"8b569bee717668677790574ffb9c909f","SpanId":"91ba313b3adc9e36","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFB:00000015","RequestPath":"/api/v1/Comments/66817cb3-bb8a-4a8d-bc3b-1919979a1df0","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:07:08.5034000+01:00","Level":"Information","MessageTemplate":"Attempting to Update comment with id 66817cb3-bb8a-4a8d-bc3b-1919979a1df0","TraceId":"8b569bee717668677790574ffb9c909f","SpanId":"91ba313b3adc9e36","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentsController","ActionId":"64bf83c2-adcb-4ef9-9ee7-9892faca733a","ActionName":"StudentBlogg.Feature.Comments.CommentsController.UpdateComment (StudentBlogg)","RequestId":"0HN7ULJSQQOFB:00000015","RequestPath":"/api/v1/Comments/66817cb3-bb8a-4a8d-bc3b-1919979a1df0","ConnectionId":"0HN7ULJSQQOFB"}}
{"Timestamp":"2024-11-06T23:17:53.8207710+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"8ed40d7604a829605ba70ed1625878f8","SpanId":"17f4f3077cbfb37c","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFC:00000001","RequestPath":"/api/v1/Users","ConnectionId":"0HN7ULJSQQOFC"}}
{"Timestamp":"2024-11-06T23:17:54.0546770+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"8ed40d7604a829605ba70ed1625878f8","SpanId":"17f4f3077cbfb37c","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"d910fcc0-c079-4946-9ea8-5dde2a1f08cf","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7ULJSQQOFC:00000001","RequestPath":"/api/v1/Users","ConnectionId":"0HN7ULJSQQOFC"}}
{"Timestamp":"2024-11-06T23:18:08.2183040+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"7a99937f8e327b695c0b9a27e4c59bc6","SpanId":"af43dd7badd3c22d","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7ULJSQQOFC:00000003","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7ULJSQQOFC"}}
{"Timestamp":"2024-11-06T23:18:08.2477760+01:00","Level":"Information","MessageTemplate":"User with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c7 found","TraceId":"7a99937f8e327b695c0b9a27e4c59bc6","SpanId":"af43dd7badd3c22d","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"2d3d7905-cf1a-48b8-8f8b-6cb7ee6c1a90","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7ULJSQQOFC:00000003","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7ULJSQQOFC"}}
{"Timestamp":"2024-11-06T23:18:08.2624140+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"7a99937f8e327b695c0b9a27e4c59bc6","SpanId":"af43dd7badd3c22d","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"2d3d7905-cf1a-48b8-8f8b-6cb7ee6c1a90","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7ULJSQQOFC:00000003","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7ULJSQQOFC"}}
{"Timestamp":"2024-11-06T23:31:19.3886100+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"903d5a1e8c5ea5cf84d00b3a949cf0dc","SpanId":"3f1892b1cbfdb9c5","Exception":"System.InvalidOperationException: No service for type 'StudentBlogg.Middleware.DatabaseConnectionMiddleware' has been registered.\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\n   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN7UMAPCI9T4:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMAPCI9T4"}}
{"Timestamp":"2024-11-06T23:34:48.5791180+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"2215ae610c7764d5806a4cfb9a163ad2","SpanId":"56c7528ec32c94e4","Exception":"System.InvalidOperationException: No service for type 'StudentBlogg.Middleware.DatabaseConnectionMiddleware' has been registered.\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\n   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN7UMAPCI9T5:00000001","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMAPCI9T5"}}
{"Timestamp":"2024-11-06T23:35:10.2169330+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"dc84cf198423a49bd5a018c029e8ee30","SpanId":"e8af447698a0a97a","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMCUMHPU8:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMCUMHPU8"}}
{"Timestamp":"2024-11-06T23:35:11.5400540+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"dc84cf198423a49bd5a018c029e8ee30","SpanId":"e8af447698a0a97a","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"ef7b227c-55f5-40d0-aea4-b1e33b9c062e","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UMCUMHPU8:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMCUMHPU8"}}
{"Timestamp":"2024-11-06T23:36:25.3979410+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"5e1bc6b99296f6979c20629a93bc5ff1","SpanId":"758b7675a365386b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMDLLBPKQ:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMDLLBPKQ"}}
{"Timestamp":"2024-11-06T23:36:26.6399440+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"5e1bc6b99296f6979c20629a93bc5ff1","SpanId":"758b7675a365386b","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"db653553-84d8-4eaf-ac4f-9713697010dc","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UMDLLBPKQ:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMDLLBPKQ"}}
{"Timestamp":"2024-11-06T23:42:36.1803330+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"24fd0d8f06236bbb811b5c95abe225bf","SpanId":"af7c5f7702c68c91","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMGPFRV50:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMGPFRV50"}}
{"Timestamp":"2024-11-06T23:42:36.8490350+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"24fd0d8f06236bbb811b5c95abe225bf","SpanId":"af7c5f7702c68c91","Exception":"System.MissingMethodException: Cannot dynamically create an instance of type 'StudentBlogg.Configurations.BasicAuthenticationOptions'. Reason: Cannot create an abstract class.\n   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)\n   at System.RuntimeType.CreateInstanceOfT()\n   at System.Activator.CreateInstance[T]()\n   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)\n   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()\n   at StudentBlogg.Middleware.BasicAuthentication..ctor(ILogger`1 logger, IUserService userService, IOptions`1 options) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 19\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\n   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)\n   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\n   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UMGPFRV50:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMGPFRV50"}}
{"Timestamp":"2024-11-06T23:42:36.8631000+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"24fd0d8f06236bbb811b5c95abe225bf","SpanId":"af7c5f7702c68c91","Exception":"System.MissingMethodException: Cannot dynamically create an instance of type 'StudentBlogg.Configurations.BasicAuthenticationOptions'. Reason: Cannot create an abstract class.\n   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)\n   at System.RuntimeType.CreateInstanceOfT()\n   at System.Activator.CreateInstance[T]()\n   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)\n   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()\n   at StudentBlogg.Middleware.BasicAuthentication..ctor(ILogger`1 logger, IUserService userService, IOptions`1 options) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 19\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\n   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)\n   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\n   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UMGPFRV50:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMGPFRV50"}}
{"Timestamp":"2024-11-06T23:46:20.5406270+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"c1555cdd037377430cc6a7a8a561fa20","SpanId":"cdfdf1d7708bdab1","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMJ8GBVRU:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMJ8GBVRU"}}
{"Timestamp":"2024-11-06T23:46:21.1533310+01:00","Level":"Information","MessageTemplate":"User with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c7 found","TraceId":"c1555cdd037377430cc6a7a8a561fa20","SpanId":"cdfdf1d7708bdab1","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"930b827b-c120-4f61-bdeb-1e2b9c80e498","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UMJ8GBVRU:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMJ8GBVRU"}}
{"Timestamp":"2024-11-06T23:46:21.5737900+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"c1555cdd037377430cc6a7a8a561fa20","SpanId":"cdfdf1d7708bdab1","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"930b827b-c120-4f61-bdeb-1e2b9c80e498","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UMJ8GBVRU:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMJ8GBVRU"}}
{"Timestamp":"2024-11-06T23:47:17.6164740+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"d9c06ac4c085d36ba6f3b7fe30edd1ee","SpanId":"8ee8f0e610e6fe93","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMJPF9NGC:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMJPF9NGC"}}
{"Timestamp":"2024-11-06T23:47:18.2319220+01:00","Level":"Information","MessageTemplate":"User with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c7 found","TraceId":"d9c06ac4c085d36ba6f3b7fe30edd1ee","SpanId":"8ee8f0e610e6fe93","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"84dcaac9-5569-4af5-aa55-1269e5db024e","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UMJPF9NGC:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMJPF9NGC"}}
{"Timestamp":"2024-11-06T23:47:18.6425270+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"d9c06ac4c085d36ba6f3b7fe30edd1ee","SpanId":"8ee8f0e610e6fe93","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"84dcaac9-5569-4af5-aa55-1269e5db024e","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UMJPF9NGC:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMJPF9NGC"}}
{"Timestamp":"2024-11-06T23:52:05.7826900+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"817abd86bf59f48795151d7461eb4626","SpanId":"d953b9c1bd010703","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMMDBTUR8:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:06.4246790+01:00","Level":"Information","MessageTemplate":"User with ID df6fc42d-bd92-4efe-a48a-b0d46af0c8c7 found","TraceId":"817abd86bf59f48795151d7461eb4626","SpanId":"d953b9c1bd010703","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UsersController","ActionId":"ccc308e0-96fd-45f5-90da-e1b6e1797d98","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UMMDBTUR8:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:06.8445680+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"817abd86bf59f48795151d7461eb4626","SpanId":"d953b9c1bd010703","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"ccc308e0-96fd-45f5-90da-e1b6e1797d98","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUserPostsAsync (StudentBlogg)","RequestId":"0HN7UMMDBTUR8:00000005","RequestPath":"/api/v1/Users/df6fc42d-bd92-4efe-a48a-b0d46af0c8c7/posts","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:24.3682340+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"3383b5351270fbdc453a3537b59e3f8e","SpanId":"c962e035fd037b41","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMMDBTUR8:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:24.7100840+01:00","Level":"Warning","MessageTemplate":"Username and/or password is incorrect","TraceId":"3383b5351270fbdc453a3537b59e3f8e","SpanId":"c962e035fd037b41","Properties":{"SourceContext":"StudentBlogg.Middleware.BasicAuthentication","RequestId":"0HN7UMMDBTUR8:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:24.7187110+01:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"3383b5351270fbdc453a3537b59e3f8e","SpanId":"c962e035fd037b41","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","RequestId":"0HN7UMMDBTUR8:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:24.7343360+01:00","Level":"Error","MessageTemplate":"An unexpected error occurred.","TraceId":"3383b5351270fbdc453a3537b59e3f8e","SpanId":"c962e035fd037b41","Exception":"StudentBlogg.Middleware.WrongUsernameOrPasswordException: Username or password is incorrect.\n   at StudentBlogg.Middleware.BasicAuthentication.InvokeAsync(HttpContext context, RequestDelegate next) in /Users/mortenlunde/Developer/RiderProjects/Emne-7-avsprog/StudentBlogg/Middleware/BasicAuthentication.cs:line 73\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"SourceContext":"StudentBlogg.Middleware.GlobalExceptionHandling","RequestId":"0HN7UMMDBTUR8:00000007","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:38.3411320+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"9386381f2aa92afeba8905f4f1072380","SpanId":"b972abbfaa372649","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMMDBTUR8:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:52:38.6725490+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"9386381f2aa92afeba8905f4f1072380","SpanId":"b972abbfaa372649","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"b1f8d079-6cfc-440a-850e-e40232ab5862","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UMMDBTUR8:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:53:13.5882630+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"86789ce7d97df931a13200bf0a8ced29","SpanId":"929006b679e6153b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMMDBTUR8:0000000B","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:53:13.9815910+01:00","Level":"Information","MessageTemplate":"User added: stringyboy","TraceId":"86789ce7d97df931a13200bf0a8ced29","SpanId":"929006b679e6153b","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"c60fae5d-ffc8-436f-a8e7-a1d3868001b3","ActionName":"StudentBlogg.Feature.Users.UsersController.RegisterUserAsync (StudentBlogg)","RequestId":"0HN7UMMDBTUR8:0000000B","RequestPath":"/api/v1/Users/Register","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:53:18.9213800+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"051b926092356078e9718f66a6a26fa5","SpanId":"78ebe602422bf779","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMMDBTUR8:0000000D","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:53:19.1075630+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"051b926092356078e9718f66a6a26fa5","SpanId":"78ebe602422bf779","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"b1f8d079-6cfc-440a-850e-e40232ab5862","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UMMDBTUR8:0000000D","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMMDBTUR8"}}
{"Timestamp":"2024-11-06T23:55:49.5497350+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"275b8bd7a1ea79c48485709e95ffe375","SpanId":"d2ed2da91d72f797","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMOGE7CGG:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMOGE7CGG"}}
{"Timestamp":"2024-11-06T23:55:50.8175600+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"275b8bd7a1ea79c48485709e95ffe375","SpanId":"d2ed2da91d72f797","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"5205dee8-bf2a-41ac-a89b-63ed0432c511","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UMOGE7CGG:00000005","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMOGE7CGG"}}
{"Timestamp":"2024-11-06T23:58:39.9173300+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"1360490d7bf3ed8d7499b57857f36fbe","SpanId":"feb25074cece1b54","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMQ2LN9EM:00000005","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7UMQ2LN9EM"}}
{"Timestamp":"2024-11-06T23:58:41.1928870+01:00","Level":"Information","MessageTemplate":"GetPagedAsync started for 10 of 10.","TraceId":"1360490d7bf3ed8d7499b57857f36fbe","SpanId":"feb25074cece1b54","Properties":{"SourceContext":"StudentBlogg.Feature.Comments.CommentRepository","ActionId":"5c55aa00-e785-427b-88d1-e7ffe6678995","ActionName":"StudentBlogg.Feature.Comments.CommentsController.GetComments (StudentBlogg)","RequestId":"0HN7UMQ2LN9EM:00000005","RequestPath":"/api/v1/Comments","ConnectionId":"0HN7UMQ2LN9EM"}}
{"Timestamp":"2024-11-06T23:58:48.4025670+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"a0f0a858839fca2c96f236b98b0907c4","SpanId":"3d12337d026cc04b","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMQ2LN9EM:00000007","RequestPath":"/api/v1/Posts","ConnectionId":"0HN7UMQ2LN9EM"}}
{"Timestamp":"2024-11-06T23:58:48.7216650+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10 records","TraceId":"a0f0a858839fca2c96f236b98b0907c4","SpanId":"3d12337d026cc04b","Properties":{"SourceContext":"StudentBlogg.Feature.Posts.PostRepository","ActionId":"8b969320-fffe-4c62-bba5-6f1781fcbf12","ActionName":"StudentBlogg.Feature.Posts.PostsController.GetPosts (StudentBlogg)","RequestId":"0HN7UMQ2LN9EM:00000007","RequestPath":"/api/v1/Posts","ConnectionId":"0HN7UMQ2LN9EM"}}
{"Timestamp":"2024-11-06T23:58:53.7693980+01:00","Level":"Information","MessageTemplate":"Beginning to connect to database","TraceId":"48812d7630f3cba90904ab6630138814","SpanId":"6b2d7a8530e5d554","Properties":{"SourceContext":"StudentBlogg.Middleware.DatabaseConnectionMiddleware","RequestId":"0HN7UMQ2LN9EM:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMQ2LN9EM"}}
{"Timestamp":"2024-11-06T23:58:54.0077450+01:00","Level":"Information","MessageTemplate":"GetPagedAsync starting at 0 of 10","TraceId":"48812d7630f3cba90904ab6630138814","SpanId":"6b2d7a8530e5d554","Properties":{"SourceContext":"StudentBlogg.Feature.Users.UserRepository","ActionId":"19659ad8-e232-4430-bceb-4ec964090796","ActionName":"StudentBlogg.Feature.Users.UsersController.GetUsersAsync (StudentBlogg)","RequestId":"0HN7UMQ2LN9EM:00000009","RequestPath":"/api/v1/Users","ConnectionId":"0HN7UMQ2LN9EM"}}
